è¿™æ˜¯ä¸€ä»½åŸºäºä½ æä¾›çš„ `InputDispatcher` æ—¥å¿—æ•´ç†çš„è¯¦ç»†è€—æ—¶åˆ†æè¡¨ã€‚

### æ•°æ®è¯´æ˜

* **Timestamp (Start)**: `setInputWindows displayId=0` çš„æ—¶é—´ç‚¹ã€‚
* **æ‰§è¡Œè€—æ—¶ (Duration)**: ä» `displayId=0` åˆ° `displayId=19` çš„æ—¶é—´å·®ã€‚è¿™ä»£è¡¨äº† InputDispatcher å®Œæˆä¸€æ¬¡å…¨å±çª—å£æ›´æ–°é€»è¾‘æ‰€éœ€çš„æ—¶é—´ã€‚
* **è·ç¦»ä¸Šæ¬¡é—´éš” (Interval)**: å½“å‰ `Start` æ—¶é—´å‡å»ä¸Šä¸€æ¬¡ `Start` æ—¶é—´ã€‚è¿™åæ˜ äº†ç³»ç»Ÿåˆ·æ–°çš„é¢‘ç‡ï¼ˆç†æƒ³æƒ…å†µåº”æ¥è¿‘ 16.6msï¼‰ã€‚

### è¯¦ç»†åˆ†æè¡¨

| åºå· | Timestamp (Start) | æ‰§è¡Œè€—æ—¶ (Duration) | è·ç¦»ä¸Šæ¬¡é—´éš” (Interval) | çŠ¶æ€/å¤‡æ³¨ |
| --- | --- | --- | --- | --- |
| 1 | 02:35:13.000751 | 0.57 ms | - | åˆå§‹æ•°æ® |
| 2 | 02:35:13.020337 | 0.26 ms | 19.59 ms |  |
| 3 | 02:35:13.032222 | 0.29 ms | 11.89 ms |  |
| 4 | 02:35:13.050881 | 0.61 ms | 18.66 ms |  |
| 5 | 02:35:13.065433 | 1.03 ms | 14.55 ms |  |
| 6 | 02:35:13.082078 | 1.19 ms | 16.65 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 7 | 02:35:13.098673 | 0.28 ms | 16.60 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 8 | 02:35:13.115598 | 0.34 ms | 16.93 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 9 | 02:35:13.133692 | 0.30 ms | 18.09 ms |  |
| 10 | 02:35:13.149264 | 0.33 ms | 15.57 ms |  |
| 11 | 02:35:13.165643 | 0.44 ms | 16.38 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 12 | 02:35:13.182007 | 0.33 ms | 16.36 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 13 | 02:35:13.198786 | 0.39 ms | 16.78 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 14 | 02:35:13.215669 | 0.35 ms | 16.88 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 15 | 02:35:13.232269 | 0.35 ms | 16.60 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 16 | 02:35:13.248623 | 0.36 ms | 16.35 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 17 | 02:35:13.266819 | 0.87 ms | 18.20 ms |  |
| 18 | 02:35:13.282123 | 0.30 ms | 15.30 ms |  |
| 19 | 02:35:13.299211 | 0.30 ms | 17.09 ms |  |
| 20 | 02:35:13.315748 | 0.26 ms | 16.54 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 21 | 02:35:13.332673 | 0.38 ms | 16.93 ms |  |
| 22 | 02:35:13.350621 | 0.58 ms | 17.95 ms |  |
| 23 | 02:35:13.365361 | 0.46 ms | 14.74 ms |  |
| 24 | 02:35:13.382101 | 0.26 ms | 16.74 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 25 | 02:35:13.398987 | 0.37 ms | 16.89 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 26 | 02:35:13.415984 | 0.47 ms | 17.00 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 27 | 02:35:13.432625 | 0.60 ms | 16.64 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| **28** | **02:35:14.215680** | **0.41 ms** | **783.06 ms** | ğŸ”´ **ä¸¥é‡é˜»å¡ (ä¸¢å¸§ > 40å¸§)** |
| 29 | 02:35:14.232476 | 0.49 ms | 16.80 ms | æ¢å¤ |
| 30 | 02:35:14.258660 | 0.36 ms | 26.18 ms | æ³¢åŠ¨ |
| 31 | 02:35:14.271953 | 0.37 ms | 13.29 ms |  |
| 32 | 02:35:14.289366 | 0.38 ms | 17.41 ms |  |
| 33 | 02:35:14.300515 | 0.74 ms | 11.15 ms |  |
| 34 | 02:35:14.317027 | 0.25 ms | 16.51 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 35 | 02:35:14.333281 | 0.71 ms | 16.25 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 36 | 02:35:14.349477 | 0.31 ms | 16.20 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 37 | 02:35:14.366567 | 0.43 ms | 17.09 ms |  |
| 38 | 02:35:14.383754 | 0.40 ms | 17.19 ms |  |
| 39 | 02:35:14.401477 | 0.33 ms | 17.72 ms |  |
| 40 | 02:35:14.418070 | 0.42 ms | 16.59 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 41 | 02:35:14.433028 | 0.33 ms | 14.96 ms |  |
| 42 | 02:35:14.449703 | 0.50 ms | 16.68 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 43 | 02:35:14.466517 | 0.35 ms | 16.81 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 44 | 02:35:14.482310 | 0.52 ms | 15.79 ms |  |
| 45 | 02:35:14.498751 | 0.43 ms | 16.44 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 46 | 02:35:14.516275 | 0.44 ms | 17.52 ms |  |
| 47 | 02:35:14.534783 | 0.37 ms | 18.51 ms |  |
| 48 | 02:35:14.549378 | 0.32 ms | 14.60 ms |  |
| 49 | 02:35:14.565588 | 0.21 ms | 16.21 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 50 | 02:35:14.585789 | 0.33 ms | 20.20 ms | è½»å¾®æ³¢åŠ¨ |
| 51 | 02:35:14.599954 | 0.48 ms | 14.17 ms |  |
| 52 | 02:35:14.615709 | 0.33 ms | 15.76 ms |  |
| 53 | 02:35:14.632761 | 0.54 ms | 17.05 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 54 | 02:35:14.650385 | 0.65 ms | 17.62 ms |  |
| 55 | 02:35:14.667224 | 0.45 ms | 16.84 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 56 | 02:35:14.684032 | 0.24 ms | 16.81 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 57 | 02:35:14.699324 | 0.58 ms | 15.29 ms |  |
| **58** | **02:35:14.777523** | **1.72 ms** | **78.20 ms** | ğŸŸ  **æ˜æ˜¾å¡é¡¿ (ä¸¢å¸§ ~5å¸§)** |
| 59 | 02:35:14.783081 | 0.27 ms | 5.56 ms | è¡¥å¸§/å¯†é›†è°ƒç”¨ |
| 60 | 02:35:14.786449 | 0.67 ms | 3.37 ms | å¯†é›†è°ƒç”¨ |
| 61 | 02:35:14.788293 | 0.24 ms | 1.84 ms | å¯†é›†è°ƒç”¨ |
| 62 | 02:35:14.789563 | 0.20 ms | 1.27 ms | å¯†é›†è°ƒç”¨ |
| 63 | 02:35:14.800127 | 0.26 ms | 10.56 ms |  |
| 64 | 02:35:14.834486 | 0.23 ms | 34.36 ms | æ³¢åŠ¨ |
| 65 | 02:35:14.837256 | 1.29 ms | 2.77 ms |  |
| 66 | 02:35:14.850869 | 1.04 ms | 13.61 ms |  |
| 67 | 02:35:14.866396 | 0.27 ms | 15.53 ms |  |
| 68 | 02:35:14.883265 | 0.38 ms | 16.87 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 69 | 02:35:14.899684 | 0.47 ms | 16.42 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 70 | 02:35:14.920452 | 0.25 ms | 20.77 ms |  |
| 71 | 02:35:14.933658 | 0.53 ms | 13.21 ms |  |
| 72 | 02:35:14.954116 | 0.25 ms | 20.46 ms |  |
| 73 | 02:35:14.967051 | 0.36 ms | 12.94 ms |  |
| 74 | 02:35:14.983530 | 1.13 ms | 16.48 ms | ğŸŸ¢ æ ‡å‡† 60Hz |
| 75 | 02:35:14.999264 | 0.47 ms | 15.73 ms |  |
| 76 | 02:35:15.015518 | 0.30 ms | 16.25 ms | ğŸŸ¢ æ ‡å‡† 60Hz |

---

### æ•°æ®è§£è¯»

1. **æ‰§è¡Œè€—æ—¶ (Duration)**:
* ç»å¤§å¤šæ•° `setInputWindows` çš„æ‰§è¡Œæ—¶é—´æçŸ­ï¼Œé€šå¸¸åœ¨ **0.2ms - 0.5ms** ä¹‹é—´ã€‚
* è¿™è¯´æ˜ `InputDispatcher` æœ¬èº«çš„æ‰§è¡Œæ•ˆç‡å¾ˆé«˜ï¼Œ**ä¸æ˜¯å¯¼è‡´ç³»ç»Ÿå¡é¡¿çš„ç›´æ¥åŸå› **ã€‚å®ƒåªæ˜¯åœ¨ç­‰å¾…è¢«è°ƒç”¨ã€‚


2. **é—´éš”æ—¶é—´ (Interval)**:
* æ­£å¸¸æƒ…å†µä¸‹ï¼Œé—´éš”éå¸¸ç¨³å®šåœ°ä¿æŒåœ¨ **16ms - 17ms**ï¼Œè¿™å®Œå…¨ç¬¦åˆ Android è®¾å¤‡çš„ 60Hz åˆ·æ–°ç‡ï¼ˆVsync ä¿¡å·é©±åŠ¨ï¼‰ã€‚
* **å¼‚å¸¸ç‚¹ 1 (ä¸¥é‡)**: åœ¨ç¬¬ 28 è¡Œï¼Œå‡ºç°äº†ä¸€ä¸ª **783ms** çš„å·¨å¤§ç©ºçª—æœŸã€‚è¿™æ„å‘³ç€ç³»ç»Ÿä¸»çº¿ç¨‹ï¼ˆSystem Serverï¼‰åœ¨æ­¤æœŸé—´å®Œå…¨å¡æ­»ï¼Œæ— æ³•å¤„ç† Input Window çš„æ›´æ–°ã€‚
* **å¼‚å¸¸ç‚¹ 2 (æ¬¡è¦)**: åœ¨ç¬¬ 58 è¡Œï¼Œå‡ºç°äº†ä¸€ä¸ª **78ms** çš„å¡é¡¿ã€‚
* **ç³»ç»Ÿæ­»äº¡**: åœ¨æœ€åä¸€è¡Œæ—¥å¿—åä¸ä¹…ï¼ˆçº¦ 264ms åï¼‰ï¼Œç³»ç»ŸæŠ›å‡ºäº† `DeadSystemException`ã€‚



**ç»“è®º**: é—®é¢˜ä¸åœ¨äº `setInputWindows` æ–¹æ³•å†…éƒ¨æ…¢ï¼Œè€Œåœ¨äº**è°ï¼ˆå“ªä¸ªé”æˆ–å“ªä¸ªçº¿ç¨‹ï¼‰é˜»æ­¢äº† `setInputWindows` è¢«æŒ‰æ—¶è°ƒç”¨**ã€‚é‚£ä¸ª 783ms çš„é˜»å¡æ˜¯ç³»ç»Ÿå´©æºƒçš„å‰å…†ã€‚

éœ€è¦æˆ‘å¸®ä½ åˆ†æ log ä¸­å‡ºç°çš„ä¸åŒçº¿ç¨‹ ID (TID) åŠå…¶å«ä¹‰å—ï¼Ÿ