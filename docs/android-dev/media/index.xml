<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Android Media技术文档 on Ethen 的实验室</title>
    <link>https://ethen-cao.github.io/ethenslab/android-dev/media/</link>
    <description>Recent content in Android Media技术文档 on Ethen 的实验室</description>
    <generator>Hugo -- 0.148.2</generator>
    <language>en</language>
    <lastBuildDate>Fri, 08 Aug 2025 11:36:11 +0800</lastBuildDate>
    <atom:link href="https://ethen-cao.github.io/ethenslab/android-dev/media/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Android DRM 框架</title>
      <link>https://ethen-cao.github.io/ethenslab/android-dev/media/android-drm/</link>
      <pubDate>Fri, 08 Aug 2025 11:36:11 +0800</pubDate>
      <guid>https://ethen-cao.github.io/ethenslab/android-dev/media/android-drm/</guid>
      <description>&lt;h2 id=&#34;widevine-overview&#34;&gt;Widevine Overview&lt;/h2&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://ethen-cao.github.io/ethenslab/images/Widevine_architect.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;这张图是 &lt;strong&gt;Widevine DRM（数字版权管理）视频播放流程&lt;/strong&gt; 的整体架构图，展示了从内容打包、分发到终端设备解密播放的完整链路。分步骤解读：&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;1-内容准备与分发&#34;&gt;1. &lt;strong&gt;内容准备与分发&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Source Media（原始媒体内容）&lt;/strong&gt;
这是未经加密的音视频源文件。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Shaka Packager（打包器）&lt;/strong&gt;
将原始媒体文件进行 &lt;strong&gt;加密和分片&lt;/strong&gt;，并打包成 &lt;strong&gt;DASH Presentation（自适应流媒体格式）&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DASH Presentation&lt;/strong&gt;
是最终的媒体描述文件（如 MPD），里面包含分片信息、码率信息和加密标记。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CDN（内容分发网络）&lt;/strong&gt;
DASH 文件和加密后的媒体分片会被放到 CDN 上，供终端播放器请求。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;2-授权与密钥服务&#34;&gt;2. &lt;strong&gt;授权与密钥服务&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;License Service（许可证服务）&lt;/strong&gt;
管理内容密钥（KID、CEK），并根据终端请求签发播放许可证（License）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;License Proxy&lt;/strong&gt;
充当中间层，接收终端的 License 请求并转发给 License Service，再把结果返回给终端。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;3-设备安全与密钥保护&#34;&gt;3. &lt;strong&gt;设备安全与密钥保护&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OEM（设备制造商）&lt;/strong&gt;
在设备中实现 &lt;strong&gt;OEMCrypto HAL&lt;/strong&gt;，并提供硬件安全环境（TEE、Secure OS）。
设备出厂时会存有 &lt;strong&gt;Lockbox（Keyboxes）&lt;/strong&gt;，这是设备的安全身份凭证。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Keysith (Provisioning)&lt;/strong&gt;
用于设备首次激活时的 &lt;strong&gt;设备认证与密钥配置&lt;/strong&gt;，保证终端能安全接收 DRM 密钥。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;4-终端播放流程&#34;&gt;4. &lt;strong&gt;终端播放流程&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Media Player&lt;/strong&gt;
播放器解析 DASH MPD，从 CDN 拉取加密的媒体分片。
播放器检测到内容加密后，会通过 &lt;strong&gt;CDM（Content Decryption Module）&lt;/strong&gt; 请求解密。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;CDM&lt;/strong&gt;
内容解密模块，负责：&lt;/p&gt;</description>
    </item>
    <item>
      <title></title>
      <link>https://ethen-cao.github.io/ethenslab/android-dev/media/chromium-drm/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://ethen-cao.github.io/ethenslab/android-dev/media/chromium-drm/</guid>
      <description></description>
    </item>
  </channel>
</rss>
