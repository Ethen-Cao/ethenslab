<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>DFMEA Introduction | Ethen 的实验室</title>
<meta name="keywords" content="">
<meta name="description" content="什么是DFMEA
DFMEA 的全称是 设计失效模式与影响分析 (Design Failure Mode and Effects Analysis)。
它是一套系统化、结构化的分析工具，主要应用在产品的设计和开发阶段。它的核心思想是**「事前预防，而非事后补救」**。
简单来说，DFMEA 就是由一群跨职能的专家团队（通常由设计工程师领导），在产品还处在图纸上或电脑模型中时，就主动去预测：


失效模式 (Failure Mode - FM): 这个设计未来可能会在哪些地方出问题？它如何失效？


失效影响 (Failure Effect - FE): 如果真的出问题了，会对顾客、系统或法规造成什么不好的后果？


失效原因 (Failure Cause - FC): 究竟是什么原因会导致这些问题发生？


在找出这些潜在风险后，团队会评估其严重程度，并采取改进行动，从根本上消除或降低这些设计缺陷，以确保最终产品的质量、可靠性和安全性。
DFMEA 的目的与好处
实施DFMEA的主要目的和好处包括：


提高产品质量与可靠性： 在设计阶段就识别并消除潜在的缺陷，从而减少产品上市后发生故障的机率。


降低开发成本与风险： 在开发早期修正设计错误的成本，远低于产品投产后甚至交付客户后进行修改、召回的成本。


缩短开发周期： 减少后期的设计变更和反复试验，可以更顺畅地推进开发流程。


提升客户满意度： 提供更可靠、更安全的产品，直接提升品牌声誉和客户满意度。


建立知识库： DFMEA的分析过程和结果会被记录下来，成为公司宝贵的知识资产，为未来新产品的开发提供参考。


DFMEA 的核心分析流程
根据最新的AIAG &amp; VDA FMEA标准，DFMEA通常遵循一个系统化的“七步法”流程：
第一步：规划与准备 (Planning and Preparation)

定义范围： 明确要分析的是整个系统、某个子系统，还是一个零件。
成立团队： 组建一个跨职能团队，成员应包含设计、制造、品质、测试等领域的专家。
确定分析工具与方法： 规划整个DFMEA活动的时间表和所需资源。

DFMEA第一步，即规划与准备 (Planning and Preparation)，其目的是为整个FMEA活动设定清晰的范围、目标和计划。要做好这一步，团队需要收集并审查一系列关键的输入资料。
可以将这些输入资料看作是开启一次成功FMEA分析的“原材料”。它们主要可以分为以下几大类：

需求与规格类文档
这是最核心的输入，它定义了设计的目标和约束。



利益相关者需求规格书 (STKRS / L1需求):即在 SYS.1 阶段的输出。包含了客户的原始期望、用户场景、业务目标等。它回答了“客户想要什么？”。">
<meta name="author" content="">
<link rel="canonical" href="https://ethen-cao.github.io/ethenslab/ivi-solution/dfmea/dfmea-introduction/">
<link crossorigin="anonymous" href="/ethenslab/assets/css/stylesheet.a1917769c3c78460b110da6d7905321bb53af4a56f22ba4cc0de824cf4d097ab.css" integrity="sha256-oZF3acPHhGCxENpteQUyG7U69KVvIrpMwN6CTPTQl6s=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://ethen-cao.github.io/ethenslab/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://ethen-cao.github.io/ethenslab/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://ethen-cao.github.io/ethenslab/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://ethen-cao.github.io/ethenslab/apple-touch-icon.png">
<link rel="mask-icon" href="https://ethen-cao.github.io/ethenslab/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://ethen-cao.github.io/ethenslab/ivi-solution/dfmea/dfmea-introduction/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://ethen-cao.github.io/ethenslab/ivi-solution/dfmea/dfmea-introduction/">
  <meta property="og:site_name" content="Ethen 的实验室">
  <meta property="og:title" content="DFMEA Introduction">
  <meta property="og:description" content="什么是DFMEA DFMEA 的全称是 设计失效模式与影响分析 (Design Failure Mode and Effects Analysis)。
它是一套系统化、结构化的分析工具，主要应用在产品的设计和开发阶段。它的核心思想是**「事前预防，而非事后补救」**。
简单来说，DFMEA 就是由一群跨职能的专家团队（通常由设计工程师领导），在产品还处在图纸上或电脑模型中时，就主动去预测：
失效模式 (Failure Mode - FM): 这个设计未来可能会在哪些地方出问题？它如何失效？
失效影响 (Failure Effect - FE): 如果真的出问题了，会对顾客、系统或法规造成什么不好的后果？
失效原因 (Failure Cause - FC): 究竟是什么原因会导致这些问题发生？
在找出这些潜在风险后，团队会评估其严重程度，并采取改进行动，从根本上消除或降低这些设计缺陷，以确保最终产品的质量、可靠性和安全性。
DFMEA 的目的与好处 实施DFMEA的主要目的和好处包括：
提高产品质量与可靠性： 在设计阶段就识别并消除潜在的缺陷，从而减少产品上市后发生故障的机率。
降低开发成本与风险： 在开发早期修正设计错误的成本，远低于产品投产后甚至交付客户后进行修改、召回的成本。
缩短开发周期： 减少后期的设计变更和反复试验，可以更顺畅地推进开发流程。
提升客户满意度： 提供更可靠、更安全的产品，直接提升品牌声誉和客户满意度。
建立知识库： DFMEA的分析过程和结果会被记录下来，成为公司宝贵的知识资产，为未来新产品的开发提供参考。
DFMEA 的核心分析流程 根据最新的AIAG &amp; VDA FMEA标准，DFMEA通常遵循一个系统化的“七步法”流程：
第一步：规划与准备 (Planning and Preparation) 定义范围： 明确要分析的是整个系统、某个子系统，还是一个零件。 成立团队： 组建一个跨职能团队，成员应包含设计、制造、品质、测试等领域的专家。 确定分析工具与方法： 规划整个DFMEA活动的时间表和所需资源。 DFMEA第一步，即规划与准备 (Planning and Preparation)，其目的是为整个FMEA活动设定清晰的范围、目标和计划。要做好这一步，团队需要收集并审查一系列关键的输入资料。 可以将这些输入资料看作是开启一次成功FMEA分析的“原材料”。它们主要可以分为以下几大类：
需求与规格类文档 这是最核心的输入，它定义了设计的目标和约束。 利益相关者需求规格书 (STKRS / L1需求):即在 SYS.1 阶段的输出。包含了客户的原始期望、用户场景、业务目标等。它回答了“客户想要什么？”。">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="ivi-solution">
    <meta property="article:published_time" content="2025-08-03T17:17:50+08:00">
    <meta property="article:modified_time" content="2025-08-03T17:17:50+08:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DFMEA Introduction">
<meta name="twitter:description" content="什么是DFMEA
DFMEA 的全称是 设计失效模式与影响分析 (Design Failure Mode and Effects Analysis)。
它是一套系统化、结构化的分析工具，主要应用在产品的设计和开发阶段。它的核心思想是**「事前预防，而非事后补救」**。
简单来说，DFMEA 就是由一群跨职能的专家团队（通常由设计工程师领导），在产品还处在图纸上或电脑模型中时，就主动去预测：


失效模式 (Failure Mode - FM): 这个设计未来可能会在哪些地方出问题？它如何失效？


失效影响 (Failure Effect - FE): 如果真的出问题了，会对顾客、系统或法规造成什么不好的后果？


失效原因 (Failure Cause - FC): 究竟是什么原因会导致这些问题发生？


在找出这些潜在风险后，团队会评估其严重程度，并采取改进行动，从根本上消除或降低这些设计缺陷，以确保最终产品的质量、可靠性和安全性。
DFMEA 的目的与好处
实施DFMEA的主要目的和好处包括：


提高产品质量与可靠性： 在设计阶段就识别并消除潜在的缺陷，从而减少产品上市后发生故障的机率。


降低开发成本与风险： 在开发早期修正设计错误的成本，远低于产品投产后甚至交付客户后进行修改、召回的成本。


缩短开发周期： 减少后期的设计变更和反复试验，可以更顺畅地推进开发流程。


提升客户满意度： 提供更可靠、更安全的产品，直接提升品牌声誉和客户满意度。


建立知识库： DFMEA的分析过程和结果会被记录下来，成为公司宝贵的知识资产，为未来新产品的开发提供参考。


DFMEA 的核心分析流程
根据最新的AIAG &amp; VDA FMEA标准，DFMEA通常遵循一个系统化的“七步法”流程：
第一步：规划与准备 (Planning and Preparation)

定义范围： 明确要分析的是整个系统、某个子系统，还是一个零件。
成立团队： 组建一个跨职能团队，成员应包含设计、制造、品质、测试等领域的专家。
确定分析工具与方法： 规划整个DFMEA活动的时间表和所需资源。

DFMEA第一步，即规划与准备 (Planning and Preparation)，其目的是为整个FMEA活动设定清晰的范围、目标和计划。要做好这一步，团队需要收集并审查一系列关键的输入资料。
可以将这些输入资料看作是开启一次成功FMEA分析的“原材料”。它们主要可以分为以下几大类：

需求与规格类文档
这是最核心的输入，它定义了设计的目标和约束。



利益相关者需求规格书 (STKRS / L1需求):即在 SYS.1 阶段的输出。包含了客户的原始期望、用户场景、业务目标等。它回答了“客户想要什么？”。">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "智能座舱方案设计",
      "item": "https://ethen-cao.github.io/ethenslab/ivi-solution/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "DFMEA实践",
      "item": "https://ethen-cao.github.io/ethenslab/ivi-solution/dfmea/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "DFMEA Introduction",
      "item": "https://ethen-cao.github.io/ethenslab/ivi-solution/dfmea/dfmea-introduction/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "DFMEA Introduction",
  "name": "DFMEA Introduction",
  "description": "什么是DFMEA DFMEA 的全称是 设计失效模式与影响分析 (Design Failure Mode and Effects Analysis)。\n它是一套系统化、结构化的分析工具，主要应用在产品的设计和开发阶段。它的核心思想是**「事前预防，而非事后补救」**。\n简单来说，DFMEA 就是由一群跨职能的专家团队（通常由设计工程师领导），在产品还处在图纸上或电脑模型中时，就主动去预测：\n失效模式 (Failure Mode - FM): 这个设计未来可能会在哪些地方出问题？它如何失效？\n失效影响 (Failure Effect - FE): 如果真的出问题了，会对顾客、系统或法规造成什么不好的后果？\n失效原因 (Failure Cause - FC): 究竟是什么原因会导致这些问题发生？\n在找出这些潜在风险后，团队会评估其严重程度，并采取改进行动，从根本上消除或降低这些设计缺陷，以确保最终产品的质量、可靠性和安全性。\nDFMEA 的目的与好处 实施DFMEA的主要目的和好处包括：\n提高产品质量与可靠性： 在设计阶段就识别并消除潜在的缺陷，从而减少产品上市后发生故障的机率。\n降低开发成本与风险： 在开发早期修正设计错误的成本，远低于产品投产后甚至交付客户后进行修改、召回的成本。\n缩短开发周期： 减少后期的设计变更和反复试验，可以更顺畅地推进开发流程。\n提升客户满意度： 提供更可靠、更安全的产品，直接提升品牌声誉和客户满意度。\n建立知识库： DFMEA的分析过程和结果会被记录下来，成为公司宝贵的知识资产，为未来新产品的开发提供参考。\nDFMEA 的核心分析流程 根据最新的AIAG \u0026amp; VDA FMEA标准，DFMEA通常遵循一个系统化的“七步法”流程：\n第一步：规划与准备 (Planning and Preparation) 定义范围： 明确要分析的是整个系统、某个子系统，还是一个零件。 成立团队： 组建一个跨职能团队，成员应包含设计、制造、品质、测试等领域的专家。 确定分析工具与方法： 规划整个DFMEA活动的时间表和所需资源。 DFMEA第一步，即规划与准备 (Planning and Preparation)，其目的是为整个FMEA活动设定清晰的范围、目标和计划。要做好这一步，团队需要收集并审查一系列关键的输入资料。 可以将这些输入资料看作是开启一次成功FMEA分析的“原材料”。它们主要可以分为以下几大类：\n需求与规格类文档 这是最核心的输入，它定义了设计的目标和约束。 利益相关者需求规格书 (STKRS / L1需求):即在 SYS.1 阶段的输出。包含了客户的原始期望、用户场景、业务目标等。它回答了“客户想要什么？”。\n",
  "keywords": [
    
  ],
  "articleBody": "什么是DFMEA DFMEA 的全称是 设计失效模式与影响分析 (Design Failure Mode and Effects Analysis)。\n它是一套系统化、结构化的分析工具，主要应用在产品的设计和开发阶段。它的核心思想是**「事前预防，而非事后补救」**。\n简单来说，DFMEA 就是由一群跨职能的专家团队（通常由设计工程师领导），在产品还处在图纸上或电脑模型中时，就主动去预测：\n失效模式 (Failure Mode - FM): 这个设计未来可能会在哪些地方出问题？它如何失效？\n失效影响 (Failure Effect - FE): 如果真的出问题了，会对顾客、系统或法规造成什么不好的后果？\n失效原因 (Failure Cause - FC): 究竟是什么原因会导致这些问题发生？\n在找出这些潜在风险后，团队会评估其严重程度，并采取改进行动，从根本上消除或降低这些设计缺陷，以确保最终产品的质量、可靠性和安全性。\nDFMEA 的目的与好处 实施DFMEA的主要目的和好处包括：\n提高产品质量与可靠性： 在设计阶段就识别并消除潜在的缺陷，从而减少产品上市后发生故障的机率。\n降低开发成本与风险： 在开发早期修正设计错误的成本，远低于产品投产后甚至交付客户后进行修改、召回的成本。\n缩短开发周期： 减少后期的设计变更和反复试验，可以更顺畅地推进开发流程。\n提升客户满意度： 提供更可靠、更安全的产品，直接提升品牌声誉和客户满意度。\n建立知识库： DFMEA的分析过程和结果会被记录下来，成为公司宝贵的知识资产，为未来新产品的开发提供参考。\nDFMEA 的核心分析流程 根据最新的AIAG \u0026 VDA FMEA标准，DFMEA通常遵循一个系统化的“七步法”流程：\n第一步：规划与准备 (Planning and Preparation) 定义范围： 明确要分析的是整个系统、某个子系统，还是一个零件。 成立团队： 组建一个跨职能团队，成员应包含设计、制造、品质、测试等领域的专家。 确定分析工具与方法： 规划整个DFMEA活动的时间表和所需资源。 DFMEA第一步，即规划与准备 (Planning and Preparation)，其目的是为整个FMEA活动设定清晰的范围、目标和计划。要做好这一步，团队需要收集并审查一系列关键的输入资料。 可以将这些输入资料看作是开启一次成功FMEA分析的“原材料”。它们主要可以分为以下几大类：\n需求与规格类文档 这是最核心的输入，它定义了设计的目标和约束。 利益相关者需求规格书 (STKRS / L1需求):即在 SYS.1 阶段的输出。包含了客户的原始期望、用户场景、业务目标等。它回答了“客户想要什么？”。\n系统/技术需求规格书 (SyRS / L2需求):即在 SYS.2 阶段的输出。它将客户需求转化为具体、可测量的技术指标和功能要求。它回答了“系统必须做什么？”。\n法律法规与行业标准: 例如 ISO 26262 (功能安全)、ISO/SAE 21434 (网络安全) 等相关标准的要求。这些是设计必须遵守的强制性约束。\n客户特定要求 (Customer Specific Requirements - CSR):除了通用的技术规格外，特定客户可能会有自己独特的要求，这些也必须作为输入。\n历史数据与经验教训 利用过去的经验可以避免重蹈覆辙，是FMEA“预防”思想的精髓。 类似项目的FMEA报告: 参考过去类似产品或系统的DFMEA/PFMEA，可以直接借鉴其分析思路和已识别的风险。\n“经验教训”文档 (Lessons Learned): 公司内部整理的关于过往项目成功或失败经验的总结报告。\n售后与保修数据: 分析已上市产品的客户投诉、退货、维修和保修索赔数据，可以发现真实世界中发生过的失效模式。\n内部测试与验证报告: 过去产品开发过程中的测试失败报告、验证问题点等。\n项目管理与范围定义类信息 这类信息用于明确本次FMEA分析的具体边界。 项目计划与时间表: 明确DFMEA活动在整个项目开发周期中的位置和关键时间节点。\n产品/系统边界图 (Boundary Diagram): 一份清晰的图表，用来界定哪些部分包含在本次FMEA分析范围内 (In Scope)，哪些部分不包含 (Out of Scope)，以及分析对象与外部环境的接口。\n物料清单 (Bill of Materials - BOM): 初步的BOM清单，有助于理解产品的构成。\n项目目标与范围说明: 关于项目整体目标、预算、资源等方面的概述。\n组织过程资产 这些是公司内部的标准流程和工具，用于确保FMEA活动的一致性和规范性。 公司的FMEA流程和手册:\n公司内部关于如何开展FMEA活动的标准作业程序 (SOP)。\nFMEA软件或模板:\n统一的FMEA分析表格或专用软件。\n风险评估准则:公司预先定义好的关于严重度(S)、发生率(O)、探测度(D)的评分标准表。\n总而言之，DFMEA第一步“规划与准备”的输入，是一个涵盖了 “要求做什么（需求类）”、“过去犯过什么错（历史类）”、“这次要分析什么（范围类）” 以及 “我们用什么规矩做（组织类）” 的信息集合。 充分收集和理解这些输入资料，是确保DFMEA团队能够高效、准确地定义分析范围、识别潜在风险的基础。\n第二步：结构分析 (Structure Analysis) 拆解结构： 将分析的对象（如一个刹车系统）拆解成更小的组成部分（如：刹车卡钳、刹车片、刹车盘）。 视觉化： 使用结构树等工具，清晰地展示各组件之间的层级和关系。\n第三步：功能分析 (Function Analysis) 描述功能： 详细描述每个结构组件应该履行的功能和达成的性能指标。例如，刹车片的功能是「与刹车盘摩擦以产生制动力」。\n第四步：失效分析 (Failure Analysis) 这是DFMEA最核心的环节，分析一个“失效链 (Failure Chain)”：\n失效模式 (Failure Mode - FM): 指产品或零件如何未能满足其预期功能。例如，刹车片的失效模式可能是「磨损过快」或「破裂」。\n失效影响 (Failure Effect - FE): 失效模式对客户或上级系统造成的后果。例如，「磨损过快」的影响是「刹车距离变长，危害行车安全」。\n失效原因 (Failure Cause - FC): 导致失效模式发生的具体设计弱点。例如，「磨损过快」的原因可能是「材料硬度设计不足」。\n第五步：风险分析 (Risk Analysis) 团队会针对每一条“失效链”进行评分，以确定其风险等级。评分基于三个指标（通常为1-10分，分数越高风险越大）：\n严重度 (Severity - S): 失效影响的严重程度。对安全性的影响有多大？（10分可能意味着危及生命安全）\n发生率 (Occurrence - O): 失效原因发生的可能性有多高？\n探测度 (Detection - D): 在产品离开设计阶段前，现有的设计控制措施（如模拟、审查、测试）有多大的可能性能发现这个失效原因？（10分意味着几乎不可能被发现）\n第六步：优化 (Optimization) 计算风险优先级：\n传统方法： 计算 风险优先数 (Risk Priority Number, RPN)，公式为 RPN = S × O × D。RPN值越高的项目，应优先处理。\n新版方法： 根据S, O, D的组合，查询 行动优先级 (Action Priority, AP) 表，得出「高(H)」、「中(M)」、「低(L)」的行动建议。AP方法更能突显高严重度风险的重要性。\n制定措施： 针对高风险项目，团队需要制定并实施改进行动，例如「重新选择更高硬度的材料」、「增加结构厚度」等。\n重新评估： 在采取措施后，重新对O和D进行评分，确保风险已降至可接受的水平。\n第七步：结果文件化 (Results Documentation) 将整个分析过程、风险评估、采取的措施和最终结果完整记录下来，形成正式报告。\nDFMEA在ASPICE V Model哪个阶段实施 在Automotive SPICE (ASPICE) V-Model中，设计失效模式与影响分析 (DFMEA) 主要在 V模型的左侧，即系统开发和设计阶段实施。它不是一个单一的步骤，而是一个贯穿于多个设计流程的持续性活动。\nDFMEA的核心目的是在设计初期识别和规避潜在的风险，因此它与ASPICE中负责系统和软件设计的流程紧密相关。具体来说，DFMEA主要在以下几个ASPICE流程组 (Process Group) 和具体流程 (Process) 中得到应用：\n系统工程流程组 (System Engineering Process Group - SYS) SYS.2: 系统需求分析 (System Requirements Analysis): 虽然DFMEA的核心活动不在此阶段，但此阶段的输出（系统需求）是进行系统级DFMEA的基础。 SYS.3: 系统架构设计 (System Architectural Design): 这是实施 系统级DFMEA (System DFMEA) 的关键阶段。在此阶段，开发团队会分析整个系统的架构，识别由于系统组件、子系统及其接口之间的交互可能导致的潜在失效模式。 软件工程流程组 (Software Engineering Process Group - SWE) SWE.1: 软件需求分析 (Software Requirements Analysis): 类似于系统需求分析，此阶段为软件级DFMEA提供输入。 SWE.2: 软件架构设计 (Software Architectural Design): 在此阶段会进行 软件架构层面的DFMEA (Software Architectural DFMEA)。分析软件的整体架构、模块划分以及模块间的接口，以识别潜在的设计缺陷。 SWE.3: 软件详细设计和单元实现 (Software Detailed Design and Unit Implementation): 在这个更详细的层面，可以进行 软件单元级别的DFMEA (Software Unit DFMEA)，分析具体软件单元或组件的内部设计，找出可能存在的失效模式。 DFMEA在V-Model中的位置示意图： 为了更直观地理解，您可以将DFMEA放置在V模型的左侧，与设计阶段并行：\n@startuml !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml !define MATERIAL_FONT_COLOR #000000 !unquoted procedure VModel($alias, $label) Person($alias, $label, \"\") !endprocedure !unquoted procedure Phase($alias, $label, $technique=\"\") System_Ext($alias, $label, $technique) !endprocedure !unquoted procedure DFMEAActivity($alias, $label) Container($alias, $label, \"DFMEA\", \"识别和规避设计风险\") !endprocedure VModel(stakeholder, \"客户/需求\") Phase(sys_req, \"SYS.2: 系统需求分析\") Phase(sys_arch, \"SYS.3: 系统架构设计\", \"系统级DFMEA\") Phase(sw_req, \"SWE.1: 软件需求分析\") Phase(sw_arch, \"SWE.2: 软件架构设计\", \"软件架构DFMEA\") Phase(sw_detail, \"SWE.3: 软件详细设计\", \"软件单元DFMEA\") Phase(sw_unit_test, \"SWE.4: 软件单元验证\") Phase(sw_int_test, \"SWE.5: 软件集成与集成测试\") Phase(sys_int_test, \"SYS.4: 系统集成与集成测试\") Phase(sys_qual_test, \"SYS.5: 系统合格性测试\") VModel(acceptance, \"验收\") DFMEAActivity(dfmea_sys, \"系统级 DFMEA\") DFMEAActivity(dfmea_sw_arch, \"软件架构 DFMEA\") DFMEAActivity(dfmea_sw_unit, \"软件单元 DFMEA\") stakeholder ..\u003e sys_req sys_req --\u003e sys_arch sys_arch --\u003e sw_req sw_req --\u003e sw_arch sw_arch --\u003e sw_detail sw_detail ..\u003e sw_unit_test sw_unit_test --\u003e sw_int_test sw_int_test --\u003e sys_int_test sys_int_test --\u003e sys_qual_test sys_qual_test ..\u003e acceptance Rel(sys_arch, dfmea_sys, \"执行\") Rel(sw_arch, dfmea_sw_arch, \"执行\") Rel(sw_detail, dfmea_sw_unit, \"执行\") @enduml ",
  "wordCount" : "441",
  "inLanguage": "en",
  "datePublished": "2025-08-03T17:17:50+08:00",
  "dateModified": "2025-08-03T17:17:50+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://ethen-cao.github.io/ethenslab/ivi-solution/dfmea/dfmea-introduction/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ethen 的实验室",
    "logo": {
      "@type": "ImageObject",
      "url": "https://ethen-cao.github.io/ethenslab/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://ethen-cao.github.io/ethenslab/" accesskey="h" title="Ethen 的实验室 (Alt + H)">Ethen 的实验室</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://ethen-cao.github.io/ethenslab/android-dev/" title="Android系统开发">
                    <span>Android系统开发</span>
                </a>
            </li>
            <li>
                <a href="https://ethen-cao.github.io/ethenslab/android-automotive-os-dev/" title="Android Automotive">
                    <span>Android Automotive</span>
                </a>
            </li>
            <li>
                <a href="https://ethen-cao.github.io/ethenslab/qnx/" title="QNX开发">
                    <span>QNX开发</span>
                </a>
            </li>
            <li>
                <a href="https://ethen-cao.github.io/ethenslab/ivi-solution/" title="智能座舱方案">
                    <span>智能座舱方案</span>
                </a>
            </li>
            <li>
                <a href="https://ethen-cao.github.io/ethenslab/explore-ai" title="Explore AI">
                    <span>Explore AI</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://ethen-cao.github.io/ethenslab/">Home</a>&nbsp;»&nbsp;<a href="https://ethen-cao.github.io/ethenslab/ivi-solution/">智能座舱方案设计</a>&nbsp;»&nbsp;<a href="https://ethen-cao.github.io/ethenslab/ivi-solution/dfmea/">DFMEA实践</a></div>
    <h1 class="post-title entry-hint-parent">
      DFMEA Introduction
    </h1>
    <div class="post-meta"><span title='2025-08-03 17:17:50 +0800 CST'>August 3, 2025</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;441 words

</div>
  </header> 
  <div class="post-content"><h2 id="什么是dfmea">什么是DFMEA<a hidden class="anchor" aria-hidden="true" href="#什么是dfmea">#</a></h2>
<p>DFMEA 的全称是 设计失效模式与影响分析 (Design Failure Mode and Effects Analysis)。</p>
<p>它是一套系统化、结构化的分析工具，主要应用在产品的设计和开发阶段。它的核心思想是**「事前预防，而非事后补救」**。</p>
<p>简单来说，DFMEA 就是由一群跨职能的专家团队（通常由设计工程师领导），在产品还处在图纸上或电脑模型中时，就主动去预测：</p>
<ul>
<li>
<p>失效模式 (Failure Mode - FM): 这个设计未来可能会在哪些地方出问题？它如何失效？</p>
</li>
<li>
<p>失效影响 (Failure Effect - FE): 如果真的出问题了，会对顾客、系统或法规造成什么不好的后果？</p>
</li>
<li>
<p>失效原因 (Failure Cause - FC): 究竟是什么原因会导致这些问题发生？</p>
</li>
</ul>
<p>在找出这些潜在风险后，团队会评估其严重程度，并采取改进行动，从根本上消除或降低这些设计缺陷，以确保最终产品的质量、可靠性和安全性。</p>
<h2 id="dfmea-的目的与好处">DFMEA 的目的与好处<a hidden class="anchor" aria-hidden="true" href="#dfmea-的目的与好处">#</a></h2>
<p>实施DFMEA的主要目的和好处包括：</p>
<ul>
<li>
<p>提高产品质量与可靠性： 在设计阶段就识别并消除潜在的缺陷，从而减少产品上市后发生故障的机率。</p>
</li>
<li>
<p>降低开发成本与风险： 在开发早期修正设计错误的成本，远低于产品投产后甚至交付客户后进行修改、召回的成本。</p>
</li>
<li>
<p>缩短开发周期： 减少后期的设计变更和反复试验，可以更顺畅地推进开发流程。</p>
</li>
<li>
<p>提升客户满意度： 提供更可靠、更安全的产品，直接提升品牌声誉和客户满意度。</p>
</li>
<li>
<p>建立知识库： DFMEA的分析过程和结果会被记录下来，成为公司宝贵的知识资产，为未来新产品的开发提供参考。</p>
</li>
</ul>
<h2 id="dfmea-的核心分析流程">DFMEA 的核心分析流程<a hidden class="anchor" aria-hidden="true" href="#dfmea-的核心分析流程">#</a></h2>
<p>根据最新的AIAG &amp; VDA FMEA标准，DFMEA通常遵循一个系统化的“七步法”流程：</p>
<h3 id="第一步规划与准备-planning-and-preparation">第一步：规划与准备 (Planning and Preparation)<a hidden class="anchor" aria-hidden="true" href="#第一步规划与准备-planning-and-preparation">#</a></h3>
<ul>
<li>定义范围： 明确要分析的是整个系统、某个子系统，还是一个零件。</li>
<li>成立团队： 组建一个跨职能团队，成员应包含设计、制造、品质、测试等领域的专家。</li>
<li>确定分析工具与方法： 规划整个DFMEA活动的时间表和所需资源。</li>
</ul>
<p>DFMEA第一步，即规划与准备 (Planning and Preparation)，其目的是为整个FMEA活动设定清晰的范围、目标和计划。要做好这一步，团队需要收集并审查一系列关键的输入资料。
可以将这些输入资料看作是开启一次成功FMEA分析的“原材料”。它们主要可以分为以下几大类：</p>
<ol>
<li>需求与规格类文档
这是最核心的输入，它定义了设计的目标和约束。</li>
</ol>
<ul>
<li>
<p>利益相关者需求规格书 (STKRS / L1需求):即在 SYS.1 阶段的输出。包含了客户的原始期望、用户场景、业务目标等。它回答了“客户想要什么？”。</p>
</li>
<li>
<p>系统/技术需求规格书 (SyRS / L2需求):即在 SYS.2 阶段的输出。它将客户需求转化为具体、可测量的技术指标和功能要求。它回答了“系统必须做什么？”。</p>
</li>
<li>
<p>法律法规与行业标准: 例如 ISO 26262 (功能安全)、ISO/SAE 21434 (网络安全) 等相关标准的要求。这些是设计必须遵守的强制性约束。</p>
</li>
<li>
<p>客户特定要求 (Customer Specific Requirements - CSR):除了通用的技术规格外，特定客户可能会有自己独特的要求，这些也必须作为输入。</p>
</li>
</ul>
<ol start="2">
<li>历史数据与经验教训
利用过去的经验可以避免重蹈覆辙，是FMEA“预防”思想的精髓。</li>
</ol>
<ul>
<li>
<p>类似项目的FMEA报告: 参考过去类似产品或系统的DFMEA/PFMEA，可以直接借鉴其分析思路和已识别的风险。</p>
</li>
<li>
<p>“经验教训”文档 (Lessons Learned): 公司内部整理的关于过往项目成功或失败经验的总结报告。</p>
</li>
<li>
<p>售后与保修数据: 分析已上市产品的客户投诉、退货、维修和保修索赔数据，可以发现真实世界中发生过的失效模式。</p>
</li>
<li>
<p>内部测试与验证报告: 过去产品开发过程中的测试失败报告、验证问题点等。</p>
</li>
</ul>
<ol start="3">
<li>项目管理与范围定义类信息
这类信息用于明确本次FMEA分析的具体边界。</li>
</ol>
<ul>
<li>
<p>项目计划与时间表: 明确DFMEA活动在整个项目开发周期中的位置和关键时间节点。</p>
</li>
<li>
<p>产品/系统边界图 (Boundary Diagram): 一份清晰的图表，用来界定哪些部分包含在本次FMEA分析范围内 (In Scope)，哪些部分不包含 (Out of Scope)，以及分析对象与外部环境的接口。</p>
</li>
<li>
<p>物料清单 (Bill of Materials - BOM): 初步的BOM清单，有助于理解产品的构成。</p>
</li>
<li>
<p>项目目标与范围说明: 关于项目整体目标、预算、资源等方面的概述。</p>
</li>
</ul>
<ol start="4">
<li>组织过程资产
这些是公司内部的标准流程和工具，用于确保FMEA活动的一致性和规范性。</li>
</ol>
<ul>
<li>
<p>公司的FMEA流程和手册:</p>
</li>
<li>
<p>公司内部关于如何开展FMEA活动的标准作业程序 (SOP)。</p>
</li>
<li>
<p>FMEA软件或模板:</p>
</li>
<li>
<p>统一的FMEA分析表格或专用软件。</p>
</li>
<li>
<p>风险评估准则:公司预先定义好的关于严重度(S)、发生率(O)、探测度(D)的评分标准表。</p>
</li>
</ul>
<p>总而言之，DFMEA第一步“规划与准备”的输入，是一个涵盖了 <strong>“要求做什么（需求类）”、“过去犯过什么错（历史类）”、“这次要分析什么（范围类）”</strong> 以及 “我们用什么规矩做（组织类）” 的信息集合。
充分收集和理解这些输入资料，是确保DFMEA团队能够高效、准确地定义分析范围、识别潜在风险的基础。</p>
<h3 id="第二步结构分析-structure-analysis">第二步：结构分析 (Structure Analysis)<a hidden class="anchor" aria-hidden="true" href="#第二步结构分析-structure-analysis">#</a></h3>
<p>拆解结构： 将分析的对象（如一个刹车系统）拆解成更小的组成部分（如：刹车卡钳、刹车片、刹车盘）。
视觉化： 使用结构树等工具，清晰地展示各组件之间的层级和关系。</p>
<h3 id="第三步功能分析-function-analysis">第三步：功能分析 (Function Analysis)<a hidden class="anchor" aria-hidden="true" href="#第三步功能分析-function-analysis">#</a></h3>
<p>描述功能： 详细描述每个结构组件应该履行的功能和达成的性能指标。例如，刹车片的功能是「与刹车盘摩擦以产生制动力」。</p>
<h3 id="第四步失效分析-failure-analysis">第四步：失效分析 (Failure Analysis)<a hidden class="anchor" aria-hidden="true" href="#第四步失效分析-failure-analysis">#</a></h3>
<p>这是DFMEA最核心的环节，分析一个“失效链 (Failure Chain)”：</p>
<p>失效模式 (Failure Mode - FM): 指产品或零件如何未能满足其预期功能。例如，刹车片的失效模式可能是「磨损过快」或「破裂」。</p>
<p>失效影响 (Failure Effect - FE): 失效模式对客户或上级系统造成的后果。例如，「磨损过快」的影响是「刹车距离变长，危害行车安全」。</p>
<p>失效原因 (Failure Cause - FC): 导致失效模式发生的具体设计弱点。例如，「磨损过快」的原因可能是「材料硬度设计不足」。</p>
<h3 id="第五步风险分析-risk-analysis">第五步：风险分析 (Risk Analysis)<a hidden class="anchor" aria-hidden="true" href="#第五步风险分析-risk-analysis">#</a></h3>
<p>团队会针对每一条“失效链”进行评分，以确定其风险等级。评分基于三个指标（通常为1-10分，分数越高风险越大）：</p>
<p>严重度 (Severity - S): 失效影响的严重程度。对安全性的影响有多大？（10分可能意味着危及生命安全）</p>
<p>发生率 (Occurrence - O): 失效原因发生的可能性有多高？</p>
<p>探测度 (Detection - D): 在产品离开设计阶段前，现有的设计控制措施（如模拟、审查、测试）有多大的可能性能发现这个失效原因？（10分意味着几乎不可能被发现）</p>
<h3 id="第六步优化-optimization">第六步：优化 (Optimization)<a hidden class="anchor" aria-hidden="true" href="#第六步优化-optimization">#</a></h3>
<p>计算风险优先级：</p>
<p>传统方法： 计算 风险优先数 (Risk Priority Number, RPN)，公式为 RPN = S × O × D。RPN值越高的项目，应优先处理。</p>
<p>新版方法： 根据S, O, D的组合，查询 行动优先级 (Action Priority, AP) 表，得出「高(H)」、「中(M)」、「低(L)」的行动建议。AP方法更能突显高严重度风险的重要性。</p>
<p>制定措施： 针对高风险项目，团队需要制定并实施改进行动，例如「重新选择更高硬度的材料」、「增加结构厚度」等。</p>
<p>重新评估： 在采取措施后，重新对O和D进行评分，确保风险已降至可接受的水平。</p>
<h3 id="第七步结果文件化-results-documentation">第七步：结果文件化 (Results Documentation)<a hidden class="anchor" aria-hidden="true" href="#第七步结果文件化-results-documentation">#</a></h3>
<p>将整个分析过程、风险评估、采取的措施和最终结果完整记录下来，形成正式报告。</p>
<h2 id="dfmea在aspice-v-model哪个阶段实施">DFMEA在ASPICE V Model哪个阶段实施<a hidden class="anchor" aria-hidden="true" href="#dfmea在aspice-v-model哪个阶段实施">#</a></h2>
<p>在Automotive SPICE (ASPICE) V-Model中，设计失效模式与影响分析 (DFMEA) 主要在 V模型的左侧，即系统开发和设计阶段实施。它不是一个单一的步骤，而是一个贯穿于多个设计流程的持续性活动。</p>
<p>DFMEA的核心目的是在设计初期识别和规避潜在的风险，因此它与ASPICE中负责系统和软件设计的流程紧密相关。具体来说，DFMEA主要在以下几个ASPICE流程组 (Process Group) 和具体流程 (Process) 中得到应用：</p>
<ol>
<li>系统工程流程组 (System Engineering Process Group - SYS)</li>
</ol>
<ul>
<li>SYS.2: 系统需求分析 (System Requirements Analysis): 虽然DFMEA的核心活动不在此阶段，但此阶段的输出（系统需求）是进行系统级DFMEA的基础。</li>
<li>SYS.3: 系统架构设计 (System Architectural Design): 这是实施 系统级DFMEA (System DFMEA) 的关键阶段。在此阶段，开发团队会分析整个系统的架构，识别由于系统组件、子系统及其接口之间的交互可能导致的潜在失效模式。</li>
</ul>
<ol start="2">
<li>软件工程流程组 (Software Engineering Process Group - SWE)</li>
</ol>
<ul>
<li>SWE.1: 软件需求分析 (Software Requirements Analysis): 类似于系统需求分析，此阶段为软件级DFMEA提供输入。</li>
<li>SWE.2: 软件架构设计 (Software Architectural Design): 在此阶段会进行 软件架构层面的DFMEA (Software Architectural DFMEA)。分析软件的整体架构、模块划分以及模块间的接口，以识别潜在的设计缺陷。</li>
<li>SWE.3: 软件详细设计和单元实现 (Software Detailed Design and Unit Implementation): 在这个更详细的层面，可以进行 软件单元级别的DFMEA (Software Unit DFMEA)，分析具体软件单元或组件的内部设计，找出可能存在的失效模式。</li>
</ul>
<p>DFMEA在V-Model中的位置示意图：
为了更直观地理解，您可以将DFMEA放置在V模型的左侧，与设计阶段并行：</p>
<pre tabindex="0"><code class="language-plantuml" data-lang="plantuml">@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml
!define MATERIAL_FONT_COLOR #000000

&lt;style&gt;
  plantuml {
    smetana {
        style C4
        {
            FontColor #000000
            LineColor #505050
            BackgroundColor #FFFFFF
        }
    }
  }
&lt;/style&gt;


!unquoted procedure VModel($alias, $label)
    Person($alias, $label, &#34;&#34;)
!endprocedure

!unquoted procedure Phase($alias, $label, $technique=&#34;&#34;)
    System_Ext($alias, $label, $technique)
!endprocedure

!unquoted procedure DFMEAActivity($alias, $label)
    Container($alias, $label, &#34;DFMEA&#34;, &#34;识别和规避设计风险&#34;)
!endprocedure

VModel(stakeholder, &#34;客户/需求&#34;)

Phase(sys_req, &#34;SYS.2: 系统需求分析&#34;)
Phase(sys_arch, &#34;SYS.3: 系统架构设计&#34;, &#34;系统级DFMEA&#34;)
Phase(sw_req, &#34;SWE.1: 软件需求分析&#34;)
Phase(sw_arch, &#34;SWE.2: 软件架构设计&#34;, &#34;软件架构DFMEA&#34;)
Phase(sw_detail, &#34;SWE.3: 软件详细设计&#34;, &#34;软件单元DFMEA&#34;)
Phase(sw_unit_test, &#34;SWE.4: 软件单元验证&#34;)
Phase(sw_int_test, &#34;SWE.5: 软件集成与集成测试&#34;)
Phase(sys_int_test, &#34;SYS.4: 系统集成与集成测试&#34;)
Phase(sys_qual_test, &#34;SYS.5: 系统合格性测试&#34;)
VModel(acceptance, &#34;验收&#34;)


DFMEAActivity(dfmea_sys, &#34;系统级 DFMEA&#34;)
DFMEAActivity(dfmea_sw_arch, &#34;软件架构 DFMEA&#34;)
DFMEAActivity(dfmea_sw_unit, &#34;软件单元 DFMEA&#34;)


stakeholder ..&gt; sys_req
sys_req --&gt; sys_arch
sys_arch --&gt; sw_req
sw_req --&gt; sw_arch
sw_arch --&gt; sw_detail

sw_detail ..&gt; sw_unit_test
sw_unit_test --&gt; sw_int_test
sw_int_test --&gt; sys_int_test
sys_int_test --&gt; sys_qual_test
sys_qual_test ..&gt; acceptance

Rel(sys_arch, dfmea_sys, &#34;执行&#34;)
Rel(sw_arch, dfmea_sw_arch, &#34;执行&#34;)
Rel(sw_detail, dfmea_sw_unit, &#34;执行&#34;)

@enduml
</code></pre>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://ethen-cao.github.io/ethenslab/">Ethen 的实验室</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
