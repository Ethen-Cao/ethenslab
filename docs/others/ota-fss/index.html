<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ethen 的实验室</title><meta name=keywords content><meta name=description content="H47A OTA 功能规格说明书
1. 基本信息

  
      
          项目名称 (Project Name)
          H47A
      
  
  
      
          功能名称 (Function Name)
          OTA
      
      
          所属部门 (Department)
          智能座舱平台软件部
      
      
          文档密级 (Security Level)
          机密
      
      
          文档版本 (Document Version)
          V1.0
      
  

2. 文档目的与定位
本功能规格说明书（FSS）是 Feature Owner（FO） 的核心交付物，旨在承接来自 系统架构师、产品经理 (PM/PO) 拆解的 Capability / Feature，并将其转化为软件开发团队可直接执行的基本设计方案。

对上：承接并细化高阶需求，确保产品价值的准确传递。若上游仅提供 Capability，则由 FO 拆解为 Feature。
对下：为开发团队提供可落地的设计蓝图，包括功能范围、架构视图、接口定义及非功能性约束。

3. 文档管理
3.1 版本控制

  
      
          版本
          日期
          作者
          变更摘要
      
  
  
      
          V1.0
          YYYY/MM/DD
          [作者]
          初始草稿
      
  

3.2 评审记录

  
      
          版本
          评审日期
          评审人
          评审意见
      
  
  
      
          V1.0
          YYYY/MM/DD
          [评审人列表]
          [意见摘要]
      
  

3.3 参考文档

  
      
          文档名称
          文档编号 / 链接
      
  
  
      
          系统架构设计说明书
          [链接 / ID]
      
      
          产品需求文档 (PRD)
          [链接 / ID]
      
  

4. 概述
4.1 功能目标与价值
说明本功能存在的意义，回答“为什么要做”。应直接关联到上游的 Epic 或业务目标。"><meta name=author content><link rel=canonical href=https://ethen-cao.github.io/ethenslab/others/ota-fss/><link crossorigin=anonymous href=/ethenslab/assets/css/stylesheet.a1917769c3c78460b110da6d7905321bb53af4a56f22ba4cc0de824cf4d097ab.css integrity="sha256-oZF3acPHhGCxENpteQUyG7U69KVvIrpMwN6CTPTQl6s=" rel="preload stylesheet" as=style><link rel=icon href=https://ethen-cao.github.io/ethenslab/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ethen-cao.github.io/ethenslab/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ethen-cao.github.io/ethenslab/favicon-32x32.png><link rel=apple-touch-icon href=https://ethen-cao.github.io/ethenslab/apple-touch-icon.png><link rel=mask-icon href=https://ethen-cao.github.io/ethenslab/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://ethen-cao.github.io/ethenslab/others/ota-fss/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://ethen-cao.github.io/ethenslab/others/ota-fss/"><meta property="og:site_name" content="Ethen 的实验室"><meta property="og:title" content="Ethen 的实验室"><meta property="og:description" content="H47A OTA 功能规格说明书 1. 基本信息 项目名称 (Project Name) H47A 功能名称 (Function Name) OTA 所属部门 (Department) 智能座舱平台软件部 文档密级 (Security Level) 机密 文档版本 (Document Version) V1.0 2. 文档目的与定位 本功能规格说明书（FSS）是 Feature Owner（FO） 的核心交付物，旨在承接来自 系统架构师、产品经理 (PM/PO) 拆解的 Capability / Feature，并将其转化为软件开发团队可直接执行的基本设计方案。
对上：承接并细化高阶需求，确保产品价值的准确传递。若上游仅提供 Capability，则由 FO 拆解为 Feature。 对下：为开发团队提供可落地的设计蓝图，包括功能范围、架构视图、接口定义及非功能性约束。 3. 文档管理 3.1 版本控制 版本 日期 作者 变更摘要 V1.0 YYYY/MM/DD [作者] 初始草稿 3.2 评审记录 版本 评审日期 评审人 评审意见 V1.0 YYYY/MM/DD [评审人列表] [意见摘要] 3.3 参考文档 文档名称 文档编号 / 链接 系统架构设计说明书 [链接 / ID] 产品需求文档 (PRD) [链接 / ID] 4. 概述 4.1 功能目标与价值 说明本功能存在的意义，回答“为什么要做”。应直接关联到上游的 Epic 或业务目标。"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="others"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="H47A OTA 功能规格说明书
1. 基本信息

  
      
          项目名称 (Project Name)
          H47A
      
  
  
      
          功能名称 (Function Name)
          OTA
      
      
          所属部门 (Department)
          智能座舱平台软件部
      
      
          文档密级 (Security Level)
          机密
      
      
          文档版本 (Document Version)
          V1.0
      
  

2. 文档目的与定位
本功能规格说明书（FSS）是 Feature Owner（FO） 的核心交付物，旨在承接来自 系统架构师、产品经理 (PM/PO) 拆解的 Capability / Feature，并将其转化为软件开发团队可直接执行的基本设计方案。

对上：承接并细化高阶需求，确保产品价值的准确传递。若上游仅提供 Capability，则由 FO 拆解为 Feature。
对下：为开发团队提供可落地的设计蓝图，包括功能范围、架构视图、接口定义及非功能性约束。

3. 文档管理
3.1 版本控制

  
      
          版本
          日期
          作者
          变更摘要
      
  
  
      
          V1.0
          YYYY/MM/DD
          [作者]
          初始草稿
      
  

3.2 评审记录

  
      
          版本
          评审日期
          评审人
          评审意见
      
  
  
      
          V1.0
          YYYY/MM/DD
          [评审人列表]
          [意见摘要]
      
  

3.3 参考文档

  
      
          文档名称
          文档编号 / 链接
      
  
  
      
          系统架构设计说明书
          [链接 / ID]
      
      
          产品需求文档 (PRD)
          [链接 / ID]
      
  

4. 概述
4.1 功能目标与价值
说明本功能存在的意义，回答“为什么要做”。应直接关联到上游的 Epic 或业务目标。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"杂记","item":"https://ethen-cao.github.io/ethenslab/others/"},{"@type":"ListItem","position":2,"name":"","item":"https://ethen-cao.github.io/ethenslab/others/ota-fss/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"","name":"","description":"H47A OTA 功能规格说明书 1. 基本信息 项目名称 (Project Name) H47A 功能名称 (Function Name) OTA 所属部门 (Department) 智能座舱平台软件部 文档密级 (Security Level) 机密 文档版本 (Document Version) V1.0 2. 文档目的与定位 本功能规格说明书（FSS）是 Feature Owner（FO） 的核心交付物，旨在承接来自 系统架构师、产品经理 (PM/PO) 拆解的 Capability / Feature，并将其转化为软件开发团队可直接执行的基本设计方案。\n对上：承接并细化高阶需求，确保产品价值的准确传递。若上游仅提供 Capability，则由 FO 拆解为 Feature。 对下：为开发团队提供可落地的设计蓝图，包括功能范围、架构视图、接口定义及非功能性约束。 3. 文档管理 3.1 版本控制 版本 日期 作者 变更摘要 V1.0 YYYY/MM/DD [作者] 初始草稿 3.2 评审记录 版本 评审日期 评审人 评审意见 V1.0 YYYY/MM/DD [评审人列表] [意见摘要] 3.3 参考文档 文档名称 文档编号 / 链接 系统架构设计说明书 [链接 / ID] 产品需求文档 (PRD) [链接 / ID] 4. 概述 4.1 功能目标与价值 说明本功能存在的意义，回答“为什么要做”。应直接关联到上游的 Epic 或业务目标。\n","keywords":[],"articleBody":"H47A OTA 功能规格说明书 1. 基本信息 项目名称 (Project Name) H47A 功能名称 (Function Name) OTA 所属部门 (Department) 智能座舱平台软件部 文档密级 (Security Level) 机密 文档版本 (Document Version) V1.0 2. 文档目的与定位 本功能规格说明书（FSS）是 Feature Owner（FO） 的核心交付物，旨在承接来自 系统架构师、产品经理 (PM/PO) 拆解的 Capability / Feature，并将其转化为软件开发团队可直接执行的基本设计方案。\n对上：承接并细化高阶需求，确保产品价值的准确传递。若上游仅提供 Capability，则由 FO 拆解为 Feature。 对下：为开发团队提供可落地的设计蓝图，包括功能范围、架构视图、接口定义及非功能性约束。 3. 文档管理 3.1 版本控制 版本 日期 作者 变更摘要 V1.0 YYYY/MM/DD [作者] 初始草稿 3.2 评审记录 版本 评审日期 评审人 评审意见 V1.0 YYYY/MM/DD [评审人列表] [意见摘要] 3.3 参考文档 文档名称 文档编号 / 链接 系统架构设计说明书 [链接 / ID] 产品需求文档 (PRD) [链接 / ID] 4. 概述 4.1 功能目标与价值 说明本功能存在的意义，回答“为什么要做”。应直接关联到上游的 Epic 或业务目标。\n示例：\n本功能旨在实现车机端与云端的 OTA 差分升级能力，减少升级包体积，提升升级效率，从而提升用户体验并降低流量成本。\n4.2 范围 4.2.1 范围内 [列出本功能包含的职责与模块] 4.2.2 范围外 [列出与本功能相关但不由本文档负责的部分] 4.3 关键术语与缩略语 术语/缩写 全称 描述 FO Feature Owner 功能负责人 PRD Product Requirement Document 产品需求文档 5. 功能特性分解 5.1 编写约定与编号规则 本章节定义 OTA 功能规格说明书后续章节的编写口径、对象模型、ID 体系与引用规则，确保：\n第 5 章形成唯一权威的需求清单； 第 7 章时序图能够按模板要求关联 Feature ID 追溯； 第 10 章非功能性需求按模板表格字段统一管理（类别/ID/描述/验收/策略/关联章节）； 第 11 章“需求可追溯性”能以“功能需求ID”为主线串起来源、设计章节与验证方法。 5.1.1 编写口径与术语约定 需求表述口径\n“必须/应/可以”分别表示强制、推荐、可选。 每条需求必须写成可验收语句：包含触发条件、系统行为、对外输出/验收点；避免仅描述实现方式。 名词统一\n任务（Task）：一次可执行的 OTA 升级活动（含版本信息、预约信息、执行状态、结果）。 升级包（Package）：云端/主节点下发或 U 盘导入的升级包实体（含版本号、校验状态）。 预约（Schedule）：任务的计划执行时间及其状态（自动/自定义/取消/重约）。 条件（Precondition）：执行升级所需的车辆/系统条件（如电量、车速、网络、存储等）。 结果（Result）：任务最终态或终止态（成功/失败/终止/推迟等）。 5.1.2 功能需求编号规则（FR） 格式：FR-OTA--\nFR：Functional Requirement（功能需求） OTA：功能域固定前缀 ：功能域枚举（见 5.1.3） ：三位顺序号，001 起，域内递增且永久不复用（删除需求也不复用编号） 使用规则\n第 5 章每条需求必须有唯一 FR-... 编号； 第 7 章每个关键场景时序图应在标题处显式引用关联的需求 ID； 第 11 章追溯表以 FR-... 为主键，填写来源、设计章节/视图与验证方法。 5.1.3 功能域（Domain）枚举与边界 为避免“按模块实现”导致需求碎片化，本文档以业务能力域作为 。各域定义如下（后续第 5.3 按该顺序编写）：\nDomain 含义 边界说明（写什么/不写什么） GEN 通用/任务生命周期底座 任务对象、状态持久化/恢复、事件分发、文案/配置来源与兜底等跨域能力；不写具体页面交互细节 HMI HMI展示与交互 弹窗/页面元素、按钮行为、跳转、提示文案展示规则；不写底层通信实现 CHK 查看更新/本地包识别 本地是否有包、版本信息获取、检查更新重试与兜底路径 SCH 预约/排程（Schedule） 自动预约、时间选择粒度、预约提交/取消/重约、预约成功/失败反馈 PRE 条件校验与推迟 执行门禁条件、条件不满足列表、推迟执行时间展示与处理 EXE 执行与进度 启动升级、进度/剩余时间刷新、进度弹窗策略、执行中异常中断表现 RST 结果与后处理（Result） 成功/失败（含首次/二次）/终止/推迟结果展示；“未确认重启后仍提示”等结果态处理 DIAG 诊断与查询 状态查询接口、日志/事件记录、错误码映射、联调/仿真支持（如适用） 5.1.4 非功能需求编号规则 第 9 章按模板以表格维护非功能需求（类别/需求ID/描述/验收/策略/关联章节）。\n格式：NFR-OTA--\n建议枚举：PERF 性能、RELY 可靠性、RES 资源消耗、SEC 安全、COMP 兼容性、OBS 可观测性/可维护性、LEGAL 合规等。 每条 NFR-... 应至少关联一个 FR-... 或关键场景（在第 9 章“关联设计章节”中引用）。 5.1.5 变更与废弃规则 需求新增：新增 FR-...，在第 11 章补齐追溯链路。 需求修改：保持原 FR-... 不变，在“需求描述”中更新并在版本记录中说明原因。 需求删除：标记为 Deprecated（保留编号与删除原因），编号不复用，避免历史设计/测试追溯断裂。 5.2 Feature Tree（特性树总览） 本节给出 H47A OTA 的能力地图（Feature Tree），用于明确第5章需求覆盖范围，并为第7章关键场景与时序图提供索引。\n说明：以下特性树按 Domain（GEN/HMI/CHK/SCH/PRE/EXE/RST/DIAG） 组织；每个叶子节点将在 5.3 功能需求清单中以 FR-OTA-- 形式落条。\n5.2.1 GEN｜通用与任务生命周期底座 GEN-01 任务对象模型（Task/Package/Progress/Result） GEN-02 任务接收与状态同步（来自主节点/云端/Host） GEN-03 状态机与事件分发（Push/Start/Progress/Result/Defer） GEN-04 状态持久化与重启恢复（含“未确认重启后仍提示”支撑） GEN-05 文案与配置管理（来源、版本、兜底策略） GEN-06 权限与调用控制（对外接口/页面入口的访问控制） GEN-07 时间与时区处理（预约时间展示/存储/换算） 5.2.2 HMI｜HMI 展示与交互 HMI-01 升级任务提醒弹窗（版本/耗时/内容/按钮） HMI-02 服务条款入口与展示（系统更新服务条款） HMI-03 预约相关弹窗与页面交互（自动/自定义/重约/取消） HMI-04 升级进度弹窗（进度/剩余时间/提示语） HMI-05 升级结果弹窗（成功/失败/终止/推迟） HMI-06 “查看更新”入口与页面交互（含检查更新按钮） HMI-07 文案与长文本展示（滚动、截断、重点高亮） HMI-08 异常提示一致性（缺字段、超时、失败原因可读化） 5.2.3 CHK｜查看更新/本地包识别 CHK-01 本地是否存在待升级包检测 CHK-02 版本信息获取与展示（当前版本/目标版本） CHK-03 未检测到更新/版本信息异常兜底 CHK-04 “检查更新”重试机制与反馈 CHK-05 本地包状态与预约状态组合呈现（未预约/已预约/失败待处理） 5.2.4 SCH｜预约/排程（Schedule） SCH-01 自动预约（默认时间策略，例如 02:00） SCH-02 自定义预约（时间粒度、可选范围、展示规则） SCH-03 预约提交（loading、成功/失败反馈） SCH-04 重新预约/取消预约 SCH-05 开启/关闭自动升级对下次预约策略的影响 SCH-06 预约信息持久化与恢复（页面再次进入一致显示） 5.2.5 PRE｜条件校验与推迟（执行门禁） PRE-01 执行前条件判定（电量/车速/网络/存储等） PRE-02 条件不满足原因列表生成与展示（可滚动） PRE-03 推迟执行时间生成/下发/展示（重点高亮） PRE-04 条件不满足下的用户操作（重新预约/关闭） PRE-05 条件变化与状态更新（条件满足后可执行、条件再次不满足的处理口径） 5.2.6 EXE｜执行与进度 EXE-01 OTA 任务启动信号处理（触发进度展示） EXE-02 进度上报与刷新（节流、刷新频率、百分比规则） EXE-03 剩余时间估算与展示规则 EXE-04 执行阶段提示语（下载/校验/安装/重启等口径） EXE-05 执行中异常与中断表现（断连、超时、取消、系统重启等） EXE-06 执行中状态持久化（重启后恢复到合理展示/状态） 5.2.7 RST｜结果与后处理（Result） RST-01 升级成功结果处理（弹窗、确认、留存策略） RST-02 升级失败结果处理（首次失败可重约、二次失败提示策略） RST-03 升级终止/取消任务结果处理 RST-04 推迟（不满足条件）结果处理（推迟时间+原因列表） RST-05 结果态持久化与恢复（未确认重启后仍提示、已确认不再提示） RST-06 结果与错误码/原因映射（面向用户的可读提示） 5.2.8 DIAG｜诊断与查询（可观测性能力） DIAG-01 任务状态查询（当前任务/预约/进度/结果） DIAG-02 关键事件记录（Push/Start/Progress/Result/Defer） DIAG-03 错误码与原因归一化（Host/MCU/Guest 统一口径） DIAG-04 联调/仿真能力（注入任务/进度/结果用于 HMI 联调） DIAG-05 日志与导出（用于问题定位与售后闭环） 5.2.9 特性树与后续章节关系（索引规则） 5.3 将按本节 Domain 顺序，对每个叶子节点落地为 FR-OTA-- 需求条目； 第7章每个关键场景应引用其覆盖的 FR ID（一个场景对应多条 FR）； 第8章接口项应能追溯到对应的 FR ID； 第9章（非功能性需求）条目应关联关键 FR 或关键场景，以保证可验收与可追溯。 5.3 功能需求清单 5.4 关键场景清单 6. 软件基本设计 6.1 场景视图 使用用例图展示主要参与者 (Actor) 与系统交互方式。详细流程请参见第 7 章《关键场景与动态行为》。\n6.2 逻辑视图 描述系统的功能模块组成及相互关系。\n组件名称 核心职责描述 Component A [描述组件主要功能与边界] Component B [描述组件主要功能与边界] 6.3 开发视图 描述代码结构，如模块划分、包关系等（建议使用包图）。\n6.4 状态机视图（可选） 描述系统或组件的状态变化与转换条件（建议使用状态机图）。\n6.5 物理视图（可选） 描述软件模块在硬件节点上的部署关系（建议使用部署图）。\n7. 关键场景与动态行为 使用时序图描述关键业务流程。每个时序图应关联 Feature ID，以便追溯。\n场景: [F-X.X, F-Y.Y] - [场景描述]\n8. 接口定义 8.1 [组件 A] 接口 8.1.1 提供接口 方法名 参数 返回值 异步回调 功能描述 8.1.2 依赖接口 依赖模块/组件 接口/服务 功能描述 8.2 [组件 B] 接口 8.2.1 提供接口 方法名 参数 返回值 异步回调 功能描述 8.2.2 依赖接口 依赖模块/组件 接口/服务 功能描述 8.3 数据结构定义 定义接口中传递的关键数据对象结构体。\n8.4 云端接口 API 端点 方法 请求体 响应体 功能描述 9. 非功能性需求 类别 需求 ID 需求描述 验收标准 设计策略与实现机制 关联设计章节 性能 NFR-P1 系统启动时间 \u003c 3 秒 可靠性 NFR-R1 异常恢复时间 \u003c 5 秒 资源消耗 NFR-R2 内存占用上限 \u003c 300 MB 安全 NFR-S1 接口鉴权 通过 OAuth2 10. 错误与异常处理 错误场景 可能原因 系统处理策略 用户提示 OTA 升级失败 网络异常 重试三次后上报错误 “网络异常，请重试” 11. 需求可追溯性 功能需求 ID 需求描述 来源 (Capability) 设计章节 / 视图 验证方法 (Test Case ID) F-X.X [描述] CAP-XX §3.1, §4, §5.1 TC-XXX 12. 附录 (Appendix) [可选] 包含补充资料、错误码表、接口示例、测试样例等。\n","wordCount":"549","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://ethen-cao.github.io/ethenslab/others/ota-fss/"},"publisher":{"@type":"Organization","name":"Ethen 的实验室","logo":{"@type":"ImageObject","url":"https://ethen-cao.github.io/ethenslab/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ethen-cao.github.io/ethenslab/ accesskey=h title="Ethen 的实验室 (Alt + H)">Ethen 的实验室</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ethen-cao.github.io/ethenslab/android-dev/ title=Android系统开发><span>Android系统开发</span></a></li><li><a href=https://ethen-cao.github.io/ethenslab/android-automotive-os-dev/ title="Android Automotive"><span>Android Automotive</span></a></li><li><a href=https://ethen-cao.github.io/ethenslab/qnx/ title=QNX开发><span>QNX开发</span></a></li><li><a href=https://ethen-cao.github.io/ethenslab/gunyah/ title=Gunyah><span>Gunyah</span></a></li><li><a href=https://ethen-cao.github.io/ethenslab/ivi-solution/ title=智能座舱方案><span>智能座舱方案</span></a></li><li><a href=https://ethen-cao.github.io/ethenslab/explore-ai title="Explore AI"><span>Explore AI</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ethen-cao.github.io/ethenslab/>Home</a>&nbsp;»&nbsp;<a href=https://ethen-cao.github.io/ethenslab/others/>杂记</a></div><h1 class="post-title entry-hint-parent"></h1><div class=post-meta>3 min&nbsp;·&nbsp;549 words</div></header><div class=post-content><h1 id=h47a-ota-功能规格说明书>H47A OTA 功能规格说明书<a hidden class=anchor aria-hidden=true href=#h47a-ota-功能规格说明书>#</a></h1><h2 id=1-基本信息>1. 基本信息<a hidden class=anchor aria-hidden=true href=#1-基本信息>#</a></h2><table><thead><tr><th style=text-align:left>项目名称 (Project Name)</th><th style=text-align:left>H47A</th></tr></thead><tbody><tr><td style=text-align:left>功能名称 (Function Name)</td><td style=text-align:left>OTA</td></tr><tr><td style=text-align:left>所属部门 (Department)</td><td style=text-align:left>智能座舱平台软件部</td></tr><tr><td style=text-align:left>文档密级 (Security Level)</td><td style=text-align:left>机密</td></tr><tr><td style=text-align:left>文档版本 (Document Version)</td><td style=text-align:left>V1.0</td></tr></tbody></table><h2 id=2-文档目的与定位>2. 文档目的与定位<a hidden class=anchor aria-hidden=true href=#2-文档目的与定位>#</a></h2><p>本功能规格说明书（FSS）是 <strong>Feature Owner（FO）</strong> 的核心交付物，旨在承接来自 <strong>系统架构师、产品经理 (PM/PO)</strong> 拆解的 Capability / Feature，并将其转化为软件开发团队可直接执行的<strong>基本设计方案</strong>。</p><ul><li><strong>对上</strong>：承接并细化高阶需求，确保产品价值的准确传递。若上游仅提供 Capability，则由 FO 拆解为 Feature。</li><li><strong>对下</strong>：为开发团队提供可落地的设计蓝图，包括功能范围、架构视图、接口定义及非功能性约束。</li></ul><h2 id=3-文档管理>3. 文档管理<a hidden class=anchor aria-hidden=true href=#3-文档管理>#</a></h2><h3 id=31-版本控制>3.1 版本控制<a hidden class=anchor aria-hidden=true href=#31-版本控制>#</a></h3><table><thead><tr><th style=text-align:center>版本</th><th style=text-align:left>日期</th><th style=text-align:left>作者</th><th style=text-align:left>变更摘要</th></tr></thead><tbody><tr><td style=text-align:center>V1.0</td><td style=text-align:left>YYYY/MM/DD</td><td style=text-align:left>[作者]</td><td style=text-align:left>初始草稿</td></tr></tbody></table><h3 id=32-评审记录>3.2 评审记录<a hidden class=anchor aria-hidden=true href=#32-评审记录>#</a></h3><table><thead><tr><th style=text-align:center>版本</th><th style=text-align:left>评审日期</th><th style=text-align:left>评审人</th><th style=text-align:left>评审意见</th></tr></thead><tbody><tr><td style=text-align:center>V1.0</td><td style=text-align:left>YYYY/MM/DD</td><td style=text-align:left>[评审人列表]</td><td style=text-align:left>[意见摘要]</td></tr></tbody></table><h3 id=33-参考文档>3.3 参考文档<a hidden class=anchor aria-hidden=true href=#33-参考文档>#</a></h3><table><thead><tr><th style=text-align:left>文档名称</th><th style=text-align:left>文档编号 / 链接</th></tr></thead><tbody><tr><td style=text-align:left>系统架构设计说明书</td><td style=text-align:left>[链接 / ID]</td></tr><tr><td style=text-align:left>产品需求文档 (PRD)</td><td style=text-align:left>[链接 / ID]</td></tr></tbody></table><h2 id=4-概述>4. 概述<a hidden class=anchor aria-hidden=true href=#4-概述>#</a></h2><h3 id=41-功能目标与价值>4.1 功能目标与价值<a hidden class=anchor aria-hidden=true href=#41-功能目标与价值>#</a></h3><p>说明本功能存在的意义，回答“为什么要做”。应直接关联到上游的 Epic 或业务目标。</p><p>示例：<br>本功能旨在实现车机端与云端的 OTA 差分升级能力，减少升级包体积，提升升级效率，从而提升用户体验并降低流量成本。</p><h3 id=42-范围>4.2 范围<a hidden class=anchor aria-hidden=true href=#42-范围>#</a></h3><h4 id=421-范围内>4.2.1 范围内<a hidden class=anchor aria-hidden=true href=#421-范围内>#</a></h4><ul><li>[列出本功能包含的职责与模块]</li></ul><h4 id=422-范围外>4.2.2 范围外<a hidden class=anchor aria-hidden=true href=#422-范围外>#</a></h4><ul><li>[列出与本功能相关但不由本文档负责的部分]</li></ul><h3 id=43-关键术语与缩略语>4.3 关键术语与缩略语<a hidden class=anchor aria-hidden=true href=#43-关键术语与缩略语>#</a></h3><table><thead><tr><th style=text-align:left>术语/缩写</th><th style=text-align:left>全称</th><th style=text-align:left>描述</th></tr></thead><tbody><tr><td style=text-align:left>FO</td><td style=text-align:left>Feature Owner</td><td style=text-align:left>功能负责人</td></tr><tr><td style=text-align:left>PRD</td><td style=text-align:left>Product Requirement Document</td><td style=text-align:left>产品需求文档</td></tr></tbody></table><h2 id=5-功能特性分解>5. 功能特性分解<a hidden class=anchor aria-hidden=true href=#5-功能特性分解>#</a></h2><h3 id=51-编写约定与编号规则>5.1 编写约定与编号规则<a hidden class=anchor aria-hidden=true href=#51-编写约定与编号规则>#</a></h3><p>本章节定义 OTA 功能规格说明书后续章节的<strong>编写口径、对象模型、ID 体系与引用规则</strong>，确保：</p><ul><li>第 5 章形成<strong>唯一权威的需求清单</strong>；</li><li>第 7 章时序图能够按模板要求<strong>关联 Feature ID 追溯</strong>；</li><li>第 10 章非功能性需求按模板表格字段统一管理（类别/ID/描述/验收/策略/关联章节）；</li><li>第 11 章“需求可追溯性”能以“功能需求ID”为主线串起来源、设计章节与验证方法。</li></ul><h4 id=511-编写口径与术语约定>5.1.1 编写口径与术语约定<a hidden class=anchor aria-hidden=true href=#511-编写口径与术语约定>#</a></h4><p><strong>需求表述口径</strong></p><ul><li>“必须/应/可以”分别表示强制、推荐、可选。</li><li>每条需求必须写成<strong>可验收</strong>语句：包含触发条件、系统行为、对外输出/验收点；避免仅描述实现方式。</li></ul><p><strong>名词统一</strong></p><ul><li><strong>任务（Task）</strong>：一次可执行的 OTA 升级活动（含版本信息、预约信息、执行状态、结果）。</li><li><strong>升级包（Package）</strong>：云端/主节点下发或 U 盘导入的升级包实体（含版本号、校验状态）。</li><li><strong>预约（Schedule）</strong>：任务的计划执行时间及其状态（自动/自定义/取消/重约）。</li><li><strong>条件（Precondition）</strong>：执行升级所需的车辆/系统条件（如电量、车速、网络、存储等）。</li><li><strong>结果（Result）</strong>：任务最终态或终止态（成功/失败/终止/推迟等）。</li></ul><h4 id=512-功能需求编号规则fr>5.1.2 功能需求编号规则（FR）<a hidden class=anchor aria-hidden=true href=#512-功能需求编号规则fr>#</a></h4><p><strong>格式</strong>：<code>FR-OTA-&lt;Domain>-&lt;NNN></code></p><ul><li><code>FR</code>：Functional Requirement（功能需求）</li><li><code>OTA</code>：功能域固定前缀</li><li><code>&lt;Domain></code>：功能域枚举（见 5.1.3）</li><li><code>&lt;NNN></code>：三位顺序号，<code>001</code> 起，域内递增且<strong>永久不复用</strong>（删除需求也不复用编号）</li></ul><p><strong>使用规则</strong></p><ul><li>第 5 章每条需求必须有唯一 <code>FR-...</code> 编号；</li><li>第 7 章每个关键场景时序图应在标题处显式引用关联的需求 ID；</li><li>第 11 章追溯表以 <code>FR-...</code> 为主键，填写来源、设计章节/视图与验证方法。</li></ul><h4 id=513-功能域domain枚举与边界>5.1.3 功能域（Domain）枚举与边界<a hidden class=anchor aria-hidden=true href=#513-功能域domain枚举与边界>#</a></h4><p>为避免“按模块实现”导致需求碎片化，本文档以<strong>业务能力域</strong>作为 <code>&lt;Domain></code>。各域定义如下（后续第 5.3 按该顺序编写）：</p><table><thead><tr><th>Domain</th><th>含义</th><th>边界说明（写什么/不写什么）</th></tr></thead><tbody><tr><td><code>GEN</code></td><td>通用/任务生命周期底座</td><td>任务对象、状态持久化/恢复、事件分发、文案/配置来源与兜底等跨域能力；不写具体页面交互细节</td></tr><tr><td><code>HMI</code></td><td>HMI展示与交互</td><td>弹窗/页面元素、按钮行为、跳转、提示文案展示规则；不写底层通信实现</td></tr><tr><td><code>CHK</code></td><td>查看更新/本地包识别</td><td>本地是否有包、版本信息获取、检查更新重试与兜底路径</td></tr><tr><td><code>SCH</code></td><td>预约/排程（Schedule）</td><td>自动预约、时间选择粒度、预约提交/取消/重约、预约成功/失败反馈</td></tr><tr><td><code>PRE</code></td><td>条件校验与推迟</td><td>执行门禁条件、条件不满足列表、推迟执行时间展示与处理</td></tr><tr><td><code>EXE</code></td><td>执行与进度</td><td>启动升级、进度/剩余时间刷新、进度弹窗策略、执行中异常中断表现</td></tr><tr><td><code>RST</code></td><td>结果与后处理（Result）</td><td>成功/失败（含首次/二次）/终止/推迟结果展示；“未确认重启后仍提示”等结果态处理</td></tr><tr><td><code>DIAG</code></td><td>诊断与查询</td><td>状态查询接口、日志/事件记录、错误码映射、联调/仿真支持（如适用）</td></tr></tbody></table><h4 id=514-非功能需求编号规则>5.1.4 非功能需求编号规则<a hidden class=anchor aria-hidden=true href=#514-非功能需求编号规则>#</a></h4><p>第 9 章按模板以表格维护非功能需求（类别/需求ID/描述/验收/策略/关联章节）。</p><p><strong>格式</strong>：<code>NFR-OTA-&lt;Quality>-&lt;NNN></code></p><ul><li><code>&lt;Quality></code> 建议枚举：<code>PERF</code> 性能、<code>RELY</code> 可靠性、<code>RES</code> 资源消耗、<code>SEC</code> 安全、<code>COMP</code> 兼容性、<code>OBS</code> 可观测性/可维护性、<code>LEGAL</code> 合规等。</li><li>每条 <code>NFR-...</code> 应至少关联一个 <code>FR-...</code> 或关键场景（在第 9 章“关联设计章节”中引用）。</li></ul><h4 id=515-变更与废弃规则>5.1.5 变更与废弃规则<a hidden class=anchor aria-hidden=true href=#515-变更与废弃规则>#</a></h4><ul><li>需求新增：新增 <code>FR-...</code>，在第 11 章补齐追溯链路。</li><li>需求修改：保持原 <code>FR-...</code> 不变，在“需求描述”中更新并在版本记录中说明原因。</li><li>需求删除：标记为 <strong>Deprecated</strong>（保留编号与删除原因），编号不复用，避免历史设计/测试追溯断裂。</li></ul><h3 id=52-feature-tree特性树总览>5.2 Feature Tree（特性树总览）<a hidden class=anchor aria-hidden=true href=#52-feature-tree特性树总览>#</a></h3><p>本节给出 H47A OTA 的<strong>能力地图（Feature Tree）</strong>，用于明确第5章需求覆盖范围，并为第7章关键场景与时序图提供索引。<br>说明：以下特性树按 <strong>Domain（GEN/HMI/CHK/SCH/PRE/EXE/RST/DIAG）</strong> 组织；每个叶子节点将在 <strong>5.3 功能需求清单</strong>中以 <code>FR-OTA-&lt;Domain>-&lt;NNN></code> 形式落条。</p><hr><h4 id=521-gen通用与任务生命周期底座>5.2.1 GEN｜通用与任务生命周期底座<a hidden class=anchor aria-hidden=true href=#521-gen通用与任务生命周期底座>#</a></h4><ul><li>GEN-01 任务对象模型（Task/Package/Progress/Result）</li><li>GEN-02 任务接收与状态同步（来自主节点/云端/Host）</li><li>GEN-03 状态机与事件分发（Push/Start/Progress/Result/Defer）</li><li>GEN-04 状态持久化与重启恢复（含“未确认重启后仍提示”支撑）</li><li>GEN-05 文案与配置管理（来源、版本、兜底策略）</li><li>GEN-06 权限与调用控制（对外接口/页面入口的访问控制）</li><li>GEN-07 时间与时区处理（预约时间展示/存储/换算）</li></ul><hr><h4 id=522-hmihmi-展示与交互>5.2.2 HMI｜HMI 展示与交互<a hidden class=anchor aria-hidden=true href=#522-hmihmi-展示与交互>#</a></h4><ul><li>HMI-01 升级任务提醒弹窗（版本/耗时/内容/按钮）</li><li>HMI-02 服务条款入口与展示（系统更新服务条款）</li><li>HMI-03 预约相关弹窗与页面交互（自动/自定义/重约/取消）</li><li>HMI-04 升级进度弹窗（进度/剩余时间/提示语）</li><li>HMI-05 升级结果弹窗（成功/失败/终止/推迟）</li><li>HMI-06 “查看更新”入口与页面交互（含检查更新按钮）</li><li>HMI-07 文案与长文本展示（滚动、截断、重点高亮）</li><li>HMI-08 异常提示一致性（缺字段、超时、失败原因可读化）</li></ul><hr><h4 id=523-chk查看更新本地包识别>5.2.3 CHK｜查看更新/本地包识别<a hidden class=anchor aria-hidden=true href=#523-chk查看更新本地包识别>#</a></h4><ul><li>CHK-01 本地是否存在待升级包检测</li><li>CHK-02 版本信息获取与展示（当前版本/目标版本）</li><li>CHK-03 未检测到更新/版本信息异常兜底</li><li>CHK-04 “检查更新”重试机制与反馈</li><li>CHK-05 本地包状态与预约状态组合呈现（未预约/已预约/失败待处理）</li></ul><hr><h4 id=524-sch预约排程schedule>5.2.4 SCH｜预约/排程（Schedule）<a hidden class=anchor aria-hidden=true href=#524-sch预约排程schedule>#</a></h4><ul><li>SCH-01 自动预约（默认时间策略，例如 02:00）</li><li>SCH-02 自定义预约（时间粒度、可选范围、展示规则）</li><li>SCH-03 预约提交（loading、成功/失败反馈）</li><li>SCH-04 重新预约/取消预约</li><li>SCH-05 开启/关闭自动升级对下次预约策略的影响</li><li>SCH-06 预约信息持久化与恢复（页面再次进入一致显示）</li></ul><hr><h4 id=525-pre条件校验与推迟执行门禁>5.2.5 PRE｜条件校验与推迟（执行门禁）<a hidden class=anchor aria-hidden=true href=#525-pre条件校验与推迟执行门禁>#</a></h4><ul><li>PRE-01 执行前条件判定（电量/车速/网络/存储等）</li><li>PRE-02 条件不满足原因列表生成与展示（可滚动）</li><li>PRE-03 推迟执行时间生成/下发/展示（重点高亮）</li><li>PRE-04 条件不满足下的用户操作（重新预约/关闭）</li><li>PRE-05 条件变化与状态更新（条件满足后可执行、条件再次不满足的处理口径）</li></ul><hr><h4 id=526-exe执行与进度>5.2.6 EXE｜执行与进度<a hidden class=anchor aria-hidden=true href=#526-exe执行与进度>#</a></h4><ul><li>EXE-01 OTA 任务启动信号处理（触发进度展示）</li><li>EXE-02 进度上报与刷新（节流、刷新频率、百分比规则）</li><li>EXE-03 剩余时间估算与展示规则</li><li>EXE-04 执行阶段提示语（下载/校验/安装/重启等口径）</li><li>EXE-05 执行中异常与中断表现（断连、超时、取消、系统重启等）</li><li>EXE-06 执行中状态持久化（重启后恢复到合理展示/状态）</li></ul><hr><h4 id=527-rst结果与后处理result>5.2.7 RST｜结果与后处理（Result）<a hidden class=anchor aria-hidden=true href=#527-rst结果与后处理result>#</a></h4><ul><li>RST-01 升级成功结果处理（弹窗、确认、留存策略）</li><li>RST-02 升级失败结果处理（首次失败可重约、二次失败提示策略）</li><li>RST-03 升级终止/取消任务结果处理</li><li>RST-04 推迟（不满足条件）结果处理（推迟时间+原因列表）</li><li>RST-05 结果态持久化与恢复（未确认重启后仍提示、已确认不再提示）</li><li>RST-06 结果与错误码/原因映射（面向用户的可读提示）</li></ul><hr><h4 id=528-diag诊断与查询可观测性能力>5.2.8 DIAG｜诊断与查询（可观测性能力）<a hidden class=anchor aria-hidden=true href=#528-diag诊断与查询可观测性能力>#</a></h4><ul><li>DIAG-01 任务状态查询（当前任务/预约/进度/结果）</li><li>DIAG-02 关键事件记录（Push/Start/Progress/Result/Defer）</li><li>DIAG-03 错误码与原因归一化（Host/MCU/Guest 统一口径）</li><li>DIAG-04 联调/仿真能力（注入任务/进度/结果用于 HMI 联调）</li><li>DIAG-05 日志与导出（用于问题定位与售后闭环）</li></ul><hr><h4 id=529-特性树与后续章节关系索引规则>5.2.9 特性树与后续章节关系（索引规则）<a hidden class=anchor aria-hidden=true href=#529-特性树与后续章节关系索引规则>#</a></h4><ul><li>5.3 将按本节 Domain 顺序，对每个叶子节点落地为 <code>FR-OTA-&lt;Domain>-&lt;NNN></code> 需求条目；</li><li>第7章每个关键场景应引用其覆盖的 FR ID（一个场景对应多条 FR）；</li><li>第8章接口项应能追溯到对应的 FR ID；</li><li>第9章（非功能性需求）条目应关联关键 FR 或关键场景，以保证可验收与可追溯。</li></ul><h3 id=53-功能需求清单>5.3 功能需求清单<a hidden class=anchor aria-hidden=true href=#53-功能需求清单>#</a></h3><h3 id=54-关键场景清单>5.4 关键场景清单<a hidden class=anchor aria-hidden=true href=#54-关键场景清单>#</a></h3><h2 id=6-软件基本设计>6. 软件基本设计<a hidden class=anchor aria-hidden=true href=#6-软件基本设计>#</a></h2><h3 id=61-场景视图>6.1 场景视图<a hidden class=anchor aria-hidden=true href=#61-场景视图>#</a></h3><p>使用用例图展示主要参与者 (Actor) 与系统交互方式。详细流程请参见第 7 章《关键场景与动态行为》。</p><h3 id=62-逻辑视图>6.2 逻辑视图<a hidden class=anchor aria-hidden=true href=#62-逻辑视图>#</a></h3><p>描述系统的功能模块组成及相互关系。</p><table><thead><tr><th style=text-align:left>组件名称</th><th style=text-align:left>核心职责描述</th></tr></thead><tbody><tr><td style=text-align:left>Component A</td><td style=text-align:left>[描述组件主要功能与边界]</td></tr><tr><td style=text-align:left>Component B</td><td style=text-align:left>[描述组件主要功能与边界]</td></tr></tbody></table><h3 id=63-开发视图>6.3 开发视图<a hidden class=anchor aria-hidden=true href=#63-开发视图>#</a></h3><p>描述代码结构，如模块划分、包关系等（建议使用包图）。</p><h3 id=64-状态机视图可选>6.4 状态机视图（可选）<a hidden class=anchor aria-hidden=true href=#64-状态机视图可选>#</a></h3><p>描述系统或组件的状态变化与转换条件（建议使用状态机图）。</p><h3 id=65-物理视图可选>6.5 物理视图（可选）<a hidden class=anchor aria-hidden=true href=#65-物理视图可选>#</a></h3><p>描述软件模块在硬件节点上的部署关系（建议使用部署图）。</p><h2 id=7-关键场景与动态行为>7. 关键场景与动态行为<a hidden class=anchor aria-hidden=true href=#7-关键场景与动态行为>#</a></h2><p>使用时序图描述关键业务流程。每个时序图应关联 Feature ID，以便追溯。</p><p>场景: [F-X.X, F-Y.Y] - [场景描述]</p><h2 id=8-接口定义>8. 接口定义<a hidden class=anchor aria-hidden=true href=#8-接口定义>#</a></h2><h3 id=81-组件-a-接口>8.1 [组件 A] 接口<a hidden class=anchor aria-hidden=true href=#81-组件-a-接口>#</a></h3><h4 id=811-提供接口>8.1.1 提供接口<a hidden class=anchor aria-hidden=true href=#811-提供接口>#</a></h4><table><thead><tr><th style=text-align:left>方法名</th><th style=text-align:left>参数</th><th style=text-align:left>返回值</th><th style=text-align:left>异步回调</th><th style=text-align:left>功能描述</th></tr></thead><tbody></tbody></table><h4 id=812-依赖接口>8.1.2 依赖接口<a hidden class=anchor aria-hidden=true href=#812-依赖接口>#</a></h4><table><thead><tr><th style=text-align:left>依赖模块/组件</th><th style=text-align:left>接口/服务</th><th style=text-align:left>功能描述</th></tr></thead><tbody></tbody></table><h3 id=82-组件-b-接口>8.2 [组件 B] 接口<a hidden class=anchor aria-hidden=true href=#82-组件-b-接口>#</a></h3><h4 id=821-提供接口>8.2.1 提供接口<a hidden class=anchor aria-hidden=true href=#821-提供接口>#</a></h4><table><thead><tr><th style=text-align:left>方法名</th><th style=text-align:left>参数</th><th style=text-align:left>返回值</th><th style=text-align:left>异步回调</th><th style=text-align:left>功能描述</th></tr></thead><tbody></tbody></table><h4 id=822-依赖接口>8.2.2 依赖接口<a hidden class=anchor aria-hidden=true href=#822-依赖接口>#</a></h4><table><thead><tr><th style=text-align:left>依赖模块/组件</th><th style=text-align:left>接口/服务</th><th style=text-align:left>功能描述</th></tr></thead><tbody></tbody></table><h3 id=83-数据结构定义>8.3 数据结构定义<a hidden class=anchor aria-hidden=true href=#83-数据结构定义>#</a></h3><p>定义接口中传递的关键数据对象结构体。</p><h3 id=84-云端接口>8.4 云端接口<a hidden class=anchor aria-hidden=true href=#84-云端接口>#</a></h3><table><thead><tr><th style=text-align:left>API 端点</th><th style=text-align:left>方法</th><th style=text-align:left>请求体</th><th style=text-align:left>响应体</th><th style=text-align:left>功能描述</th></tr></thead><tbody></tbody></table><h2 id=9-非功能性需求>9. 非功能性需求<a hidden class=anchor aria-hidden=true href=#9-非功能性需求>#</a></h2><table><thead><tr><th style=text-align:left>类别</th><th style=text-align:left>需求 ID</th><th style=text-align:left>需求描述</th><th style=text-align:left>验收标准</th><th style=text-align:left>设计策略与实现机制</th><th style=text-align:left>关联设计章节</th></tr></thead><tbody><tr><td style=text-align:left>性能</td><td style=text-align:left>NFR-P1</td><td style=text-align:left>系统启动时间</td><td style=text-align:left>&lt; 3 秒</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:left>可靠性</td><td style=text-align:left>NFR-R1</td><td style=text-align:left>异常恢复时间</td><td style=text-align:left>&lt; 5 秒</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:left>资源消耗</td><td style=text-align:left>NFR-R2</td><td style=text-align:left>内存占用上限</td><td style=text-align:left>&lt; 300 MB</td><td style=text-align:left></td><td style=text-align:left></td></tr><tr><td style=text-align:left>安全</td><td style=text-align:left>NFR-S1</td><td style=text-align:left>接口鉴权</td><td style=text-align:left>通过 OAuth2</td><td style=text-align:left></td><td style=text-align:left></td></tr></tbody></table><h2 id=10-错误与异常处理>10. 错误与异常处理<a hidden class=anchor aria-hidden=true href=#10-错误与异常处理>#</a></h2><table><thead><tr><th style=text-align:left>错误场景</th><th style=text-align:left>可能原因</th><th style=text-align:left>系统处理策略</th><th style=text-align:left>用户提示</th></tr></thead><tbody><tr><td style=text-align:left>OTA 升级失败</td><td style=text-align:left>网络异常</td><td style=text-align:left>重试三次后上报错误</td><td style=text-align:left>“网络异常，请重试”</td></tr></tbody></table><h2 id=11-需求可追溯性>11. 需求可追溯性<a hidden class=anchor aria-hidden=true href=#11-需求可追溯性>#</a></h2><table><thead><tr><th style=text-align:left>功能需求 ID</th><th style=text-align:left>需求描述</th><th style=text-align:left>来源 (Capability)</th><th style=text-align:left>设计章节 / 视图</th><th style=text-align:left>验证方法 (Test Case ID)</th></tr></thead><tbody><tr><td style=text-align:left>F-X.X</td><td style=text-align:left>[描述]</td><td style=text-align:left>CAP-XX</td><td style=text-align:left>§3.1, §4, §5.1</td><td style=text-align:left>TC-XXX</td></tr></tbody></table><h2 id=12-附录-appendix->12. 附录 (Appendix) <em>[可选]</em><a hidden class=anchor aria-hidden=true href=#12-附录-appendix->#</a></h2><p>包含补充资料、错误码表、接口示例、测试样例等。</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://ethen-cao.github.io/ethenslab/>Ethen 的实验室</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0,theme:"default"})</script><script src=https://cdn.jsdelivr.net/npm/plantuml-encoder@1.4.0/dist/plantuml-encoder.min.js></script><script>(function(){const e=document.querySelectorAll("pre > code.language-plantuml, pre > code.language-planuml");e.forEach(e=>{const s=e.innerText,o=plantumlEncoder.encode(s),i="https://www.plantuml.com/plantuml/svg/"+o,t=document.createElement("img");t.src=i,t.alt="PlantUML Diagram",t.style.maxWidth="100%";const n=e.parentNode;n.parentNode.replaceChild(t,n)})})()</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>