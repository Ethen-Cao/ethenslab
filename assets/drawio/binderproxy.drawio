<mxfile host="Electron" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/28.1.2 Chrome/138.0.7204.243 Electron/37.4.0 Safari/537.36" version="28.1.2">
  <diagram name="第 1 页" id="tx3IHelhOJrOi5UfEUdC">
    <mxGraphModel dx="1807" dy="1315" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-1" value="com.android.internal.os" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;whiteSpace=wrap;verticalAlign=top;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="103" y="410" width="560" height="150" as="geometry" />
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="265.5" y="484.83" as="sourcePoint" />
            <mxPoint x="393" y="484.83" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-10" value="2.1 setListener" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];" parent="UFMzQNls5kqZ8dKf_3Y_-9" vertex="1" connectable="0">
          <mxGeometry x="0.0737" y="2" relative="1" as="geometry">
            <mxPoint x="10" y="-3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="265.5" y="510" as="sourcePoint" />
            <mxPoint x="393" y="510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-11" value="notifyClient" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="HDgyijTYiQ9Ww2xh9AMJ-10">
          <mxGeometry x="-0.4131" y="-1" relative="1" as="geometry">
            <mxPoint x="30" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-2" value="BinderInternal" style="whiteSpace=wrap;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="123" y="470" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-3" value="com.android.server.am" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;whiteSpace=wrap;verticalAlign=top;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="103" y="240" width="560" height="130" as="geometry" />
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="1" source="UFMzQNls5kqZ8dKf_3Y_-4" target="UFMzQNls5kqZ8dKf_3Y_-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="163" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-7" value="1. nSetBinderProxyCountEnabled" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" parent="UFMzQNls5kqZ8dKf_3Y_-5" vertex="1" connectable="0">
          <mxGeometry x="-0.5616" y="-2" relative="1" as="geometry">
            <mxPoint x="-42" y="13" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="UFMzQNls5kqZ8dKf_3Y_-4" target="UFMzQNls5kqZ8dKf_3Y_-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-16" value="2. setBinderProxyCountCallback" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];labelBackgroundColor=none;" vertex="1" connectable="0" parent="HDgyijTYiQ9Ww2xh9AMJ-15">
          <mxGeometry x="0.0836" y="-1" relative="1" as="geometry">
            <mxPoint x="76" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-4" value="ActivityManagerService" style="whiteSpace=wrap;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="123" y="300" width="175" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;curved=1;" edge="1" parent="1" source="UFMzQNls5kqZ8dKf_3Y_-6" target="HDgyijTYiQ9Ww2xh9AMJ-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-6" value="BinderProxyLimitListener" style="whiteSpace=wrap;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="323" y="300" width="175" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" source="UFMzQNls5kqZ8dKf_3Y_-8" target="UFMzQNls5kqZ8dKf_3Y_-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-12" value="onLimitReached" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];" parent="UFMzQNls5kqZ8dKf_3Y_-11" vertex="1" connectable="0">
          <mxGeometry x="-0.094" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-8" value="BinderProxyLimitListenerDelegate" style="whiteSpace=wrap;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="393" y="470" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-13" value="«so»&lt;br&gt;&lt;b&gt;libandroid_runtime&lt;/b&gt;" style="html=1;dropTarget=0;whiteSpace=wrap;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="103" y="610" width="560" height="140" as="geometry" />
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-14" value="" style="shape=module;jettyWidth=8;jettyHeight=4;" parent="UFMzQNls5kqZ8dKf_3Y_-13" vertex="1">
          <mxGeometry x="1" width="20" height="20" relative="1" as="geometry">
            <mxPoint x="-27" y="7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="UFMzQNls5kqZ8dKf_3Y_-2" target="HDgyijTYiQ9Ww2xh9AMJ-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="210" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-18" value="1.1 setBinderProxyCountEnabled" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];" parent="UFMzQNls5kqZ8dKf_3Y_-17" vertex="1" connectable="0">
          <mxGeometry x="-0.0605" y="2" relative="1" as="geometry">
            <mxPoint x="-2" y="21" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-19" value="«so»&lt;br&gt;&lt;b&gt;libbinder&lt;/b&gt;" style="html=1;dropTarget=0;whiteSpace=wrap;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="103" y="800" width="560" height="160" as="geometry" />
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-20" value="" style="shape=module;jettyWidth=8;jettyHeight=4;" parent="UFMzQNls5kqZ8dKf_3Y_-19" vertex="1">
          <mxGeometry x="1" width="20" height="20" relative="1" as="geometry">
            <mxPoint x="-27" y="7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-21" value="Bpbinder" style="whiteSpace=wrap;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="156" y="840" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-22" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=none;endFill=0;startArrow=classic;startFill=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="UFMzQNls5kqZ8dKf_3Y_-21" target="HDgyijTYiQ9Ww2xh9AMJ-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="210" y="720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UFMzQNls5kqZ8dKf_3Y_-23" value="1.2 setBinderProxyCountEnabled" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="UFMzQNls5kqZ8dKf_3Y_-22" vertex="1" connectable="0">
          <mxGeometry x="-0.0037" y="-3" relative="1" as="geometry">
            <mxPoint x="-3" y="8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-4" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="178" y="644" width="60" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-2" value="" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="HDgyijTYiQ9Ww2xh9AMJ-4">
          <mxGeometry x="10" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-3" value="&lt;span style=&quot;text-align: left; text-wrap-mode: nowrap;&quot;&gt;android_os_BinderInternal_setBinderProxyCountEnabled&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="HDgyijTYiQ9Ww2xh9AMJ-4">
          <mxGeometry y="40" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-5" value="" style="group;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="498" y="630" width="60" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-6" value="" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="HDgyijTYiQ9Ww2xh9AMJ-5">
          <mxGeometry x="10" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-7" value="android_os_BinderInternal_proxyLimitcallback" style="text;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="HDgyijTYiQ9Ww2xh9AMJ-5">
          <mxGeometry y="40" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="1" source="HDgyijTYiQ9Ww2xh9AMJ-6" target="UFMzQNls5kqZ8dKf_3Y_-2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="528" y="580" />
              <mxPoint x="251" y="580" />
              <mxPoint x="251" y="520" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-9" value="binderProxyLimitCallbackFromNative" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="HDgyijTYiQ9Ww2xh9AMJ-8">
          <mxGeometry x="0.0525" y="-3" relative="1" as="geometry">
            <mxPoint x="36" y="13" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.603;entryY=0.053;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#b85450;fillColor=#f8cecc;" edge="1" parent="1" source="UFMzQNls5kqZ8dKf_3Y_-21" target="HDgyijTYiQ9Ww2xh9AMJ-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-14" value="&lt;code&gt;BpBinder::create&lt;/code&gt; 在创建 Binder 代理对象的同时，通过计数和节流来防止单个应用占用过多资源，从而保护了系统的稳定性和安全性" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;labelBackgroundColor=none;labelBorderColor=none;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="1">
          <mxGeometry x="143" y="890" width="470" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HDgyijTYiQ9Ww2xh9AMJ-20" value="&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #c586c0;&quot;&gt;if&lt;/span&gt; (uid &lt;span style=&quot;color: #d4d4d4;&quot;&gt;==&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;Process&lt;/span&gt;.&lt;span style=&quot;color: #9cdcfe;&quot;&gt;SYSTEM_UID&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: #9cdcfe;&quot;&gt;Slog&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa;&quot;&gt;i&lt;/span&gt;(TAG, &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;Skipping kill (uid is SYSTEM)&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;} &lt;span style=&quot;color: #c586c0;&quot;&gt;else&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: #dcdcaa;&quot;&gt;killUid&lt;/span&gt;(&lt;span style=&quot;color: #9cdcfe;&quot;&gt;UserHandle&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa;&quot;&gt;getAppId&lt;/span&gt;(uid), &lt;span style=&quot;color: #9cdcfe;&quot;&gt;UserHandle&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa;&quot;&gt;getUserId&lt;/span&gt;(uid),&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: #9cdcfe;&quot;&gt;VMRuntime&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa;&quot;&gt;getRuntime&lt;/span&gt;().&lt;span style=&quot;color: #dcdcaa;&quot;&gt;requestConcurrentGC&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;" vertex="1" parent="1">
          <mxGeometry x="223" y="80" width="550" height="150" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
