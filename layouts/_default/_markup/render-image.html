{{- /* 获取 Markdown 中的图片路径 */ -}}
{{- $u := .Destination -}}

{{- /* 检测路径中是否包含 /static/ (这是 VS Code 预览用的路径特征) */ -}}
{{- if in $u "/static/" -}}
  {{- /* 1. 以 /static/ 为界分割字符串 */ -}}
  {{- $parts := split $u "/static/" -}}
  
  {{- /* 2. 取 /static/ 后面的部分 (例如 images/xxx.png) */ -}}
  {{- $path := index $parts 1 -}}
  
  {{- /* 3. 使用 relURL 自动加上 baseURL 前缀 (变成 /ethenslab/images/xxx.png) */ -}}
  {{- $u = $path | relURL -}}
{{- end -}}

{{- /* 输出标准的 HTML img 标签 */ -}}
<img src="{{ $u | safeURL }}" alt="{{ .Text }}" {{ with .Title}} title="{{ . }}"{{ end }} />